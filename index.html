<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SBS ì•„ì¹´ë°ë¯¸ | ë§ì¶¤ GAP ë¶„ì„</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&family=Bebas+Neue&display=swap" rel="stylesheet"/>
  <style>
    :root {
      --primary: #0052CC;
      --accent: #FF5630;
      --bg: #F4F5F7;
      --surface: #FFFFFF;
      --text: #172B4D;
      --text-sub: #6B778C;
      --border: #DFE1E6;
      --success: #00875A;
      --radius: 12px;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: 'Noto Sans KR', sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
    }

    /* â”€â”€ HEADER â”€â”€ */
    header {
      background: var(--primary);
      color: white;
      padding: 20px 40px;
      display: flex;
      align-items: center;
      gap: 16px;
    }
    header .logo-text {
      font-family: 'Bebas Neue', sans-serif;
      font-size: 28px;
      letter-spacing: 2px;
    }
    header .subtitle {
      font-size: 13px;
      opacity: .75;
      margin-top: 2px;
    }
    header .badge {
      margin-left: auto;
      background: var(--accent);
      color: white;
      font-size: 11px;
      font-weight: 700;
      padding: 4px 10px;
      border-radius: 20px;
      letter-spacing: 1px;
    }

    /* â”€â”€ MAIN LAYOUT â”€â”€ */
    main {
      max-width: 900px;
      margin: 40px auto;
      padding: 0 24px 80px;
    }

    /* â”€â”€ STEP INDICATOR â”€â”€ */
    .steps {
      display: flex;
      align-items: center;
      gap: 0;
      margin-bottom: 36px;
    }
    .step {
      display: flex;
      align-items: center;
      gap: 8px;
      flex: 1;
    }
    .step-num {
      width: 32px; height: 32px;
      border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      font-size: 13px; font-weight: 700;
      background: var(--border);
      color: var(--text-sub);
      transition: all .3s;
      flex-shrink: 0;
    }
    .step.active .step-num { background: var(--primary); color: white; }
    .step.done .step-num { background: var(--success); color: white; }
    .step-label { font-size: 13px; color: var(--text-sub); font-weight: 500; }
    .step.active .step-label { color: var(--primary); font-weight: 700; }
    .step-line { flex: 1; height: 2px; background: var(--border); margin: 0 8px; }
    .step-line.done { background: var(--success); }

    /* â”€â”€ CARD â”€â”€ */
    .card {
      background: var(--surface);
      border-radius: var(--radius);
      padding: 32px;
      margin-bottom: 24px;
      border: 1px solid var(--border);
      box-shadow: 0 2px 8px rgba(0,0,0,.06);
    }
    .card-title {
      font-size: 18px;
      font-weight: 700;
      color: var(--text);
      margin-bottom: 6px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .card-title .icon {
      width: 32px; height: 32px;
      background: #E3F2FD;
      border-radius: 8px;
      display: flex; align-items: center; justify-content: center;
      font-size: 16px;
    }
    .card-desc {
      font-size: 13px;
      color: var(--text-sub);
      margin-bottom: 24px;
    }

    /* â”€â”€ FORM ELEMENTS â”€â”€ */
    .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
    .form-group { display: flex; flex-direction: column; gap: 6px; }
    .form-group.full { grid-column: 1 / -1; }
    label { font-size: 13px; font-weight: 600; color: var(--text); }
    label span { color: var(--accent); }

    input[type="text"], input[type="number"], select, textarea {
      border: 1.5px solid var(--border);
      border-radius: 8px;
      padding: 10px 14px;
      font-size: 14px;
      font-family: 'Noto Sans KR', sans-serif;
      color: var(--text);
      background: white;
      transition: border-color .2s;
      outline: none;
    }
    input:focus, select:focus, textarea:focus {
      border-color: var(--primary);
    }

    /* â”€â”€ GOAL TYPE SELECTOR â”€â”€ */
    .goal-selector {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-bottom: 0;
    }
    .goal-btn {
      padding: 16px;
      border: 2px solid var(--border);
      border-radius: 10px;
      cursor: pointer;
      text-align: center;
      transition: all .2s;
      background: white;
    }
    .goal-btn:hover { border-color: var(--primary); }
    .goal-btn.selected { border-color: var(--primary); background: #EBF2FF; }
    .goal-btn .goal-icon { font-size: 28px; margin-bottom: 8px; }
    .goal-btn .goal-name { font-size: 15px; font-weight: 700; }
    .goal-btn .goal-desc { font-size: 12px; color: var(--text-sub); margin-top: 4px; }

    /* â”€â”€ TRACK SELECTOR â”€â”€ */
    .track-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
    }
    .track-btn {
      padding: 14px 10px;
      border: 2px solid var(--border);
      border-radius: 10px;
      cursor: pointer;
      text-align: center;
      transition: all .2s;
      background: white;
    }
    .track-btn:hover { border-color: var(--primary); }
    .track-btn.selected { border-color: var(--primary); background: #EBF2FF; }
    .track-btn .track-icon { font-size: 22px; margin-bottom: 6px; }
    .track-btn .track-name { font-size: 13px; font-weight: 700; }

    /* â”€â”€ SKILL LEVEL â”€â”€ */
    .skill-row {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px 0;
      border-bottom: 1px solid var(--border);
    }
    .skill-row:last-child { border-bottom: none; }
    .skill-name {
      font-size: 14px;
      font-weight: 600;
      width: 120px;
      flex-shrink: 0;
    }
    .skill-levels {
      display: flex;
      gap: 6px;
      flex: 1;
      flex-wrap: wrap;
    }
    .level-btn {
      padding: 6px 10px;
      border: 1.5px solid var(--border);
      border-radius: 20px;
      font-size: 12px;
      cursor: pointer;
      transition: all .2s;
      background: white;
      color: var(--text-sub);
      white-space: nowrap;
    }
    .level-btn:hover { border-color: var(--primary); color: var(--primary); }
    .level-btn.selected { background: var(--primary); border-color: var(--primary); color: white; font-weight: 600; }

    /* â”€â”€ HIDDEN SECTIONS â”€â”€ */
    .section { display: none; }
    .section.active { display: block; }

    /* â”€â”€ ANALYZE BUTTON â”€â”€ */
    .btn-analyze {
      width: 100%;
      padding: 18px;
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 16px;
      font-weight: 700;
      font-family: 'Noto Sans KR', sans-serif;
      cursor: pointer;
      transition: background .2s, transform .1s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }
    .btn-analyze:hover { background: #003FA3; }
    .btn-analyze:active { transform: scale(.99); }
    .btn-analyze:disabled { background: var(--border); color: var(--text-sub); cursor: not-allowed; }

    /* â”€â”€ LOADING â”€â”€ */
    #loading {
      display: none;
      text-align: center;
      padding: 60px 20px;
    }
    .spinner {
      width: 48px; height: 48px;
      border: 4px solid var(--border);
      border-top-color: var(--primary);
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin: 0 auto 20px;
    }
    @keyframes spin { to { transform: rotate(360deg); } }
    .loading-text { font-size: 15px; color: var(--text-sub); }
    .loading-sub { font-size: 13px; color: var(--text-sub); margin-top: 8px; opacity: .7; }

    /* â”€â”€ RESULT â”€â”€ */
    #result { display: none; }

    .result-header {
      background: linear-gradient(135deg, var(--primary), #0041A3);
      color: white;
      border-radius: var(--radius);
      padding: 32px;
      margin-bottom: 24px;
    }
    .result-header h2 {
      font-size: 22px;
      font-weight: 900;
      margin-bottom: 6px;
    }
    .result-header p { opacity: .8; font-size: 14px; }

    .result-section {
      background: var(--surface);
      border-radius: var(--radius);
      padding: 28px;
      margin-bottom: 16px;
      border: 1px solid var(--border);
    }
    .result-section h3 {
      font-size: 16px;
      font-weight: 700;
      margin-bottom: 16px;
      padding-bottom: 12px;
      border-bottom: 2px solid var(--bg);
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .result-section h3 .dot {
      width: 8px; height: 8px;
      border-radius: 50%;
      background: var(--primary);
    }

    .tag-list { display: flex; flex-wrap: wrap; gap: 8px; }
    .tag {
      padding: 5px 12px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 600;
    }
    .tag-strong { background: #E3F9E5; color: var(--success); }
    .tag-weak { background: #FFF0EB; color: var(--accent); }
    .tag-course { background: #EBF2FF; color: var(--primary); }

    .course-timeline { display: flex; flex-direction: column; gap: 0; }
    .course-item {
      display: flex;
      gap: 16px;
      padding: 14px 0;
      border-bottom: 1px solid var(--border);
    }
    .course-item:last-child { border-bottom: none; }
    .course-order {
      width: 28px; height: 28px;
      background: var(--primary);
      color: white;
      border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      font-size: 12px; font-weight: 700;
      flex-shrink: 0;
    }
    .course-info { flex: 1; }
    .course-name { font-size: 14px; font-weight: 700; margin-bottom: 4px; }
    .course-reason { font-size: 12px; color: var(--text-sub); }
    .course-duration {
      font-size: 12px; font-weight: 700;
      color: var(--primary);
      flex-shrink: 0;
    }

    .duration-box {
      background: var(--bg);
      border-radius: 10px;
      padding: 20px;
      text-align: center;
    }
    .duration-num {
      font-family: 'Bebas Neue', sans-serif;
      font-size: 48px;
      color: var(--primary);
      line-height: 1;
    }
    .duration-label { font-size: 13px; color: var(--text-sub); margin-top: 4px; }

    .info-box {
      background: var(--bg);
      border-radius: 10px;
      padding: 16px 20px;
      font-size: 13px;
      line-height: 1.8;
      color: var(--text);
      white-space: pre-wrap;
    }

    .coverage-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
    .coverage-box { border-radius: 10px; padding: 16px; }
    .coverage-box.can { background: #E3F9E5; }
    .coverage-box.cannot { background: #FFF0EB; }
    .coverage-box h4 { font-size: 13px; font-weight: 700; margin-bottom: 10px; }
    .coverage-box.can h4 { color: var(--success); }
    .coverage-box.cannot h4 { color: var(--accent); }
    .coverage-box ul { list-style: none; }
    .coverage-box ul li { font-size: 13px; padding: 3px 0; }
    .coverage-box ul li::before { content: "â€¢ "; }

    .recommendation-box {
      background: linear-gradient(135deg, #EBF2FF, #E3F2FD);
      border-radius: 10px;
      padding: 20px;
      font-size: 14px;
      line-height: 1.7;
      color: var(--text);
      border-left: 4px solid var(--primary);
    }

    /* â”€â”€ PDF BUTTON â”€â”€ */
    .btn-pdf {
      width: 100%;
      padding: 16px;
      background: var(--accent);
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 15px;
      font-weight: 700;
      font-family: 'Noto Sans KR', sans-serif;
      cursor: pointer;
      margin-top: 24px;
      transition: background .2s;
    }
    .btn-pdf:hover { background: #DE350B; }

    .btn-reset {
      width: 100%;
      padding: 14px;
      background: white;
      color: var(--text-sub);
      border: 1.5px solid var(--border);
      border-radius: 10px;
      font-size: 14px;
      font-weight: 600;
      font-family: 'Noto Sans KR', sans-serif;
      cursor: pointer;
      margin-top: 10px;
      transition: all .2s;
    }
    .btn-reset:hover { border-color: var(--primary); color: var(--primary); }

    /* â”€â”€ API KEY MODAL â”€â”€ */
    #apiModal {
      position: fixed; inset: 0;
      background: rgba(0,0,0,.5);
      display: flex; align-items: center; justify-content: center;
      z-index: 1000;
    }
    .modal-box {
      background: white;
      border-radius: 16px;
      padding: 36px;
      width: 460px;
      max-width: 90vw;
    }
    .modal-box h3 { font-size: 20px; font-weight: 700; margin-bottom: 8px; }
    .modal-box p { font-size: 13px; color: var(--text-sub); margin-bottom: 20px; line-height: 1.6; }
    .modal-box input {
      width: 100%;
      margin-bottom: 16px;
    }
    .btn-modal {
      width: 100%;
      padding: 14px;
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 15px;
      font-weight: 700;
      font-family: 'Noto Sans KR', sans-serif;
      cursor: pointer;
    }

    @media (max-width: 600px) {
      .form-grid { grid-template-columns: 1fr; }
      .track-grid { grid-template-columns: repeat(2, 1fr); }
      .goal-selector { grid-template-columns: 1fr; }
      .coverage-grid { grid-template-columns: 1fr; }
      header { padding: 16px 20px; }
      main { padding: 0 16px 60px; }
    }

    /* â”€â”€ ì¸ì‡„ìš© CSS â”€â”€ */
    @media print {
      * { -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; }
      body { background: white; }
      header, .steps, #sec1, #sec2, #sec3, #loading,
      #apiModal, .btn-pdf, .btn-reset { display: none !important; }
      #result { display: block !important; }
      main { max-width: 100%; margin: 0; padding: 0; }
      .result-header {
        background: #0052CC !important;
        color: white !important;
        border-radius: 0;
        padding: 20px 28px;
        margin-bottom: 0;
      }
      .result-header h2 { font-size: 18px; font-weight: 900; }
      .result-header p { font-size: 12px; opacity: .8; margin-top: 4px; }
      .result-section {
        border: 1px solid #DFE1E6;
        border-radius: 8px;
        padding: 16px 20px;
        margin: 10px 20px;
        page-break-inside: avoid;
        box-shadow: none;
      }
      .result-section h3 { font-size: 13px; font-weight: 700; margin-bottom: 12px; padding-bottom: 8px; }
      .info-box { background: #F4F5F7 !important; font-size: 12px; line-height: 1.7; padding: 10px 14px; }
      .course-item { padding: 8px 0; }
      .course-name { font-size: 12px; }
      .course-reason { font-size: 11px; }
      .course-duration { font-size: 11px; font-weight: 700; }
      .course-order { width: 22px; height: 22px; font-size: 11px; background: #0052CC !important; color: white !important; }
      .duration-box { background: #F4F5F7 !important; padding: 12px; }
      .duration-num { font-size: 32px; color: #0052CC !important; }
      .duration-label { font-size: 11px; }
      .tag { font-size: 11px; padding: 3px 8px; }
      .tag-strong { background: #E3F9E5 !important; color: #00875A !important; }
      .tag-weak { background: #FFF0EB !important; color: #FF5630 !important; }
      .coverage-grid { grid-template-columns: 1fr 1fr; }
      .coverage-box.can { background: #E3F9E5 !important; }
      .coverage-box.cannot { background: #FFF0EB !important; }
      .coverage-box h4 { font-size: 12px; }
      .coverage-box ul li { font-size: 11px; }
      .recommendation-box { background: #EBF2FF !important; font-size: 12px; border-left: 4px solid #0052CC !important; padding: 14px; }
      .print-footer { display: block !important; text-align: center; padding: 14px; font-size: 10px; color: #6B778C; border-top: 1px solid #DFE1E6; margin: 12px 20px 0; }
      .result-section:nth-child(5) { page-break-before: always; }
    }
    .print-footer { display: none; }
  </style>
</head>
<body>

<!-- API KEY MODAL -->
<div id="apiModal">
  <div class="modal-box">
    <h3>ğŸ”‘ Gemini API í‚¤ ì„¤ì •</h3>
    <p>Gemini API í‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš”.<br/>í‚¤ëŠ” ì´ ë¸Œë¼ìš°ì € ì„¸ì…˜ì—ë§Œ ì €ì¥ë˜ë©° ì™¸ë¶€ë¡œ ì „ì†¡ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>
    <input type="text" id="apiKeyInput" placeholder="AIza..." />
    <button class="btn-modal" onclick="saveApiKey()">ì €ì¥í•˜ê³  ì‹œì‘í•˜ê¸°</button>
  </div>
</div>

<!-- HEADER -->
<header>
  <div>
    <div class="logo-text">SBS ACADEMY</div>
    <div class="subtitle">ì»´í“¨í„°ì•„íŠ¸í•™ì› ìˆ˜ì›ì  Â· 031-546-3644</div>
  </div>
  <div class="badge">AI ìƒë‹´ ì‹œìŠ¤í…œ</div>
</header>

<!-- MAIN -->
<main>

  <!-- STEP INDICATOR -->
  <div class="steps">
    <div class="step active" id="step1">
      <div class="step-num">1</div>
      <div class="step-label">ê¸°ë³¸ ì •ë³´</div>
    </div>
    <div class="step-line" id="line1"></div>
    <div class="step" id="step2">
      <div class="step-num">2</div>
      <div class="step-label">ëª©í‘œ ì„¤ì •</div>
    </div>
    <div class="step-line" id="line2"></div>
    <div class="step" id="step3">
      <div class="step-num">3</div>
      <div class="step-label">í˜„ì¬ ìˆ˜ì¤€</div>
    </div>
    <div class="step-line" id="line3"></div>
    <div class="step" id="step4">
      <div class="step-num">4</div>
      <div class="step-label">GAP ë¶„ì„</div>
    </div>
  </div>

  <!-- SECTION 1: ê¸°ë³¸ ì •ë³´ -->
  <div class="section active" id="sec1">
    <div class="card">
      <div class="card-title">
        <div class="icon">ğŸ‘¤</div>
        ê¸°ë³¸ ì •ë³´ ì…ë ¥
      </div>
      <div class="card-desc">ìƒë‹´ ê³ ê°ì˜ ê¸°ë³¸ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.</div>
      <div class="form-grid">
        <div class="form-group">
          <label>ì´ë¦„ <span>*</span></label>
          <input type="text" id="name" placeholder="í™ê¸¸ë™" />
        </div>
        <div class="form-group">
          <label>ë‚˜ì´ <span>*</span></label>
          <input type="number" id="age" placeholder="25" min="15" max="70" />
        </div>
        <div class="form-group">
          <label>ë°°ê²½ <span>*</span></label>
          <select id="background">
            <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
            <option value="non_major">ë¹„ì „ê³µì</option>
            <option value="major">ì „ê³µì / ê´€ë ¨í•™ê³¼</option>
          </select>
        </div>
        <div class="form-group">
          <label>íˆ¬ì ê°€ëŠ¥ ê¸°ê°„</label>
          <input type="number" id="availableMonths" placeholder="ì˜ˆ: 12" min="1" max="36" />
        </div>
        <div class="form-group full">
          <label>ì£¼ë‹¹ íˆ¬ì ê°€ëŠ¥ ì‹œê°„</label>
          <select id="hoursPerWeek">
            <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
            <option value="10">ì£¼ 10ì‹œê°„ ì´í•˜ (íŒŒíŠ¸íƒ€ì„)</option>
            <option value="20">ì£¼ 20ì‹œê°„ ë‚´ì™¸ (ë°˜ì¼)</option>
            <option value="30">ì£¼ 30ì‹œê°„ ì´ìƒ (í’€íƒ€ì„)</option>
          </select>
        </div>
      </div>
      <button class="btn-analyze" style="margin-top:24px" onclick="goToStep2()">ë‹¤ìŒ ë‹¨ê³„ â†’</button>
    </div>
  </div>

  <!-- SECTION 2: ëª©í‘œ ì„¤ì • -->
  <div class="section" id="sec2">
    <div class="card">
      <div class="card-title">
        <div class="icon">ğŸ¯</div>
        ëª©í‘œ ì„¤ì •
      </div>
      <div class="card-desc">ê³ ê°ì˜ ë°©ë¬¸ ëª©ì ì„ ì„ íƒí•´ì£¼ì„¸ìš”.</div>

      <label style="margin-bottom:12px; display:block">ëª©í‘œ ìœ í˜• <span style="color:var(--accent)">*</span></label>
      <div class="goal-selector" style="margin-bottom:24px">
        <div class="goal-btn" onclick="selectGoal('employment')" id="goal_employment">
          <div class="goal-icon">ğŸ’¼</div>
          <div class="goal-name">ì·¨ì—… ì¤€ë¹„</div>
          <div class="goal-desc">í¬íŠ¸í´ë¦¬ì˜¤ ì œì‘ + ì·¨ì—…ê¹Œì§€</div>
        </div>
        <div class="goal-btn" onclick="selectGoal('certification')" id="goal_certification">
          <div class="goal-icon">ğŸ“œ</div>
          <div class="goal-name">ìê²©ì¦ ì·¨ë“</div>
          <div class="goal-desc">íŠ¹ì • ìê²©ì¦ ì§‘ì¤‘ ì¤€ë¹„</div>
        </div>
      </div>

      <label style="margin-bottom:12px; display:block">í¬ë§ íŠ¸ë™ <span style="color:var(--accent)">*</span></label>
      <div class="track-grid" id="trackGrid">
        <div class="track-btn" onclick="selectTrack('motion')" id="track_motion">
          <div class="track-icon">ğŸ¬</div>
          <div class="track-name">ëª¨ì…˜/ì˜ìƒ</div>
        </div>
        <div class="track-btn" onclick="selectTrack('interior')" id="track_interior">
          <div class="track-icon">ğŸ </div>
          <div class="track-name">ê±´ì¶•/ì¸í…Œë¦¬ì–´</div>
        </div>
        <div class="track-btn" onclick="selectTrack('visual_editing')" id="track_visual_editing">
          <div class="track-icon">ğŸ¨</div>
          <div class="track-name">ì‹œê°/í¸ì§‘ë””ìì¸</div>
        </div>
        <div class="track-btn" onclick="selectTrack('web')" id="track_web">
          <div class="track-icon">ğŸŒ</div>
          <div class="track-name">ì›¹ë””ìì¸</div>
        </div>
        <div class="track-btn" onclick="selectTrack('cg_maya')" id="track_cg_maya">
          <div class="track-icon">ğŸ¤–</div>
          <div class="track-name">CG/ë§ˆì•¼</div>
        </div>
        <div class="track-btn" onclick="selectTrack('it_programming')" id="track_it_programming">
          <div class="track-icon">ğŸ’»</div>
          <div class="track-name">IT/í”„ë¡œê·¸ë˜ë°</div>
        </div>
        <div class="track-btn" onclick="selectTrack('ai')" id="track_ai">
          <div class="track-icon">âœ¨</div>
          <div class="track-name">AI</div>
        </div>
        <div class="track-btn" onclick="selectTrack('artwork')" id="track_artwork">
          <div class="track-icon">ğŸ–Œï¸</div>
          <div class="track-name">ì•„íŠ¸ì›</div>
        </div>
        <div class="track-btn" onclick="selectTrack('certification')" id="track_certification">
          <div class="track-icon">ğŸ“‹</div>
          <div class="track-name">ìê²©ì¦ ê³¼ì •</div>
        </div>
      </div>

      <div id="jobField" style="display:none; margin-top:20px">
        <div class="form-group">
          <label>í¬ë§ ì§ì—… (ì„ íƒ)</label>
          <input type="text" id="desiredJob" placeholder="ì˜ˆ: ëª¨ì…˜ê·¸ë˜í¼, ì›¹ ë””ìì´ë„ˆ, ë¯¸ì •" />
        </div>
      </div>

      <div id="certField" style="display:none; margin-top:20px">
        <div class="form-group">
          <label>ëª©í‘œ ìê²©ì¦ <span style="color:var(--accent)">*</span></label>
          <input type="text" id="targetCert" placeholder="ì˜ˆ: GTQ 1ê¸‰, ì»´í™œ 1ê¸‰" />
        </div>
      </div>

      <div style="display:flex; gap:10px; margin-top:24px">
        <button class="btn-reset" onclick="goToStep1()" style="width:auto; padding:14px 24px">â† ì´ì „</button>
        <button class="btn-analyze" onclick="goToStep3()">ë‹¤ìŒ ë‹¨ê³„ â†’</button>
      </div>
    </div>
  </div>

  <!-- SECTION 3: í˜„ì¬ ìˆ˜ì¤€ -->
  <div class="section" id="sec3">
    <div class="card">
      <div class="card-title">
        <div class="icon">ğŸ“Š</div>
        í˜„ì¬ ìˆ˜ì¤€ ì²´í¬
      </div>
      <div class="card-desc">ê° íˆ´ì˜ ê²½í—˜ ìˆ˜ì¤€ì„ ì„ íƒí•´ì£¼ì„¸ìš”. ì—†ìœ¼ë©´ 'ì—†ìŒ'ì„ ì„ íƒí•˜ì„¸ìš”.</div>
      <div id="skillCheckArea"></div>
      <div style="display:flex; gap:10px; margin-top:24px">
        <button class="btn-reset" onclick="goToStep2()" style="width:auto; padding:14px 24px">â† ì´ì „</button>
        <button class="btn-analyze" onclick="runAnalysis()">ğŸ” GAP ë¶„ì„ ì‹œì‘</button>
      </div>
    </div>
  </div>

  <!-- LOADING -->
  <div id="loading">
    <div class="spinner"></div>
    <div class="loading-text">AIê°€ GAP ë¶„ì„ ì¤‘ì…ë‹ˆë‹¤...</div>
    <div class="loading-sub">Geminiê°€ ì»¤ë¦¬í˜ëŸ¼ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë¶„ì„í•˜ê³  ìˆì–´ìš”</div>
  </div>

  <!-- RESULT -->
  <div id="result">
    <div class="result-header">
      <h2 id="resultTitle">GAP ë¶„ì„ ê²°ê³¼</h2>
      <p id="resultSubtitle"></p>
    </div>

    <div class="result-section">
      <h3><div class="dot"></div>í˜„ì¬ ìˆ˜ì¤€ ì§„ë‹¨</h3>
      <div class="info-box" id="currentLevelSummary"></div>
    </div>

    <div class="result-section">
      <h3><div class="dot"></div>GAP ë¶„ì„</h3>
      <div class="info-box" id="gapDescription" style="margin-bottom:16px"></div>
      <div style="display:grid; grid-template-columns:1fr 1fr; gap:16px">
        <div>
          <div style="font-size:12px; font-weight:700; color:var(--success); margin-bottom:8px">âœ… ê°•ì </div>
          <div class="tag-list" id="strongPoints"></div>
        </div>
        <div>
          <div style="font-size:12px; font-weight:700; color:var(--accent); margin-bottom:8px">âš ï¸ ë³´ì™„ í•„ìš”</div>
          <div class="tag-list" id="weakPoints"></div>
        </div>
      </div>
    </div>

    <div class="result-section">
      <h3><div class="dot"></div>ì¶”ì²œ ìˆ˜ì—… ë¡œë“œë§µ</h3>
      <div class="course-timeline" id="courseTimeline"></div>
    </div>

    <div class="result-section">
      <h3><div class="dot"></div>ì˜ˆìƒ ì†Œìš” ê¸°ê°„</h3>
      <div style="display:grid; grid-template-columns:1fr 1fr; gap:16px">
        <div class="duration-box">
          <div class="duration-num" id="durationMin">-</div>
          <div class="duration-label">ìµœì†Œ ê°œì›”</div>
        </div>
        <div class="duration-box">
          <div class="duration-num" id="durationMax">-</div>
          <div class="duration-label">ìµœëŒ€ ê°œì›”</div>
        </div>
      </div>
    </div>

    <div class="result-section">
      <h3><div class="dot"></div>ëª©í‘œ ë‹¬ì„± ê°€ì´ë“œ</h3>
      <div class="info-box" id="goalGuide"></div>
    </div>

    <div class="result-section">
      <h3><div class="dot"></div>í•™ì› ìˆ˜ê°• ì•ˆë‚´</h3>
      <div class="coverage-grid" style="margin-bottom:16px">
        <div class="coverage-box can">
          <h4>âœ… í•™ì›ì—ì„œ ì¤€ë¹„ ê°€ëŠ¥</h4>
          <ul id="coverableList"></ul>
        </div>
        <div class="coverage-box cannot">
          <h4>ğŸ“Œ ê°œì¸ ìì²´ ì¤€ë¹„ í•„ìš”</h4>
          <ul id="notCoverableList"></ul>
        </div>
      </div>
      <div class="recommendation-box" id="recommendationBox"></div>
    </div>

    <button class="btn-pdf" onclick="generatePDF()">ğŸ“„ PDFë¡œ ì €ì¥í•˜ê¸° (Ctrl+P)</button>
    <div class="print-footer" id="printFooter">SBS ì•„ì¹´ë°ë¯¸ ì»´í“¨í„°ì•„íŠ¸í•™ì› ìˆ˜ì›ì  | Tel. 031-546-3644 | ë³¸ ìë£ŒëŠ” AI ìƒë‹´ ì‹œìŠ¤í…œì„ í†µí•´ ìƒì„±ëœ ë§ì¶¤í˜• ë¶„ì„ ê²°ê³¼ì…ë‹ˆë‹¤.</div>
    <button class="btn-reset" onclick="resetAll()">ğŸ”„ ìƒˆ ìƒë‹´ ì‹œì‘</button>
  </div>

</main>


<script>

// â”€â”€ STATE â”€â”€
let apiKey = '';
let selectedGoal = '';
let selectedTrack = '';
let skillLevels = {};
let analysisResult = null;

const LEVEL_LABELS = ['ì—†ìŒ', 'ë…í•™/ì¡°ê¸ˆ ê²½í—˜', 'í•™êµ/í•™ì› ìˆ˜ê°•', 'ìê²©ì¦ ë³´ìœ ', 'ì‹¤ë¬´ ê²½í—˜'];

const TRACK_TOOLS = {
  motion: ['í¬í† ìƒµ', 'ì¼ëŸ¬ìŠ¤íŠ¸', 'í”„ë¦¬ë¯¸ì–´í”„ë¡œ', 'ì• í”„í„°ì´í™íŠ¸', 'ì‹œë„¤ë§ˆ4D'],
  interior: ['í¬í† ìƒµ', 'ì¼ëŸ¬ìŠ¤íŠ¸', 'AutoCAD(ìºë“œ)', 'ìŠ¤ì¼€ì¹˜ì—…', '3ds Max'],
  visual_editing: ['í¬í† ìƒµ', 'ì¼ëŸ¬ìŠ¤íŠ¸', 'ì¸ë””ìì¸'],
  web: ['í¬í† ìƒµ', 'ì¼ëŸ¬ìŠ¤íŠ¸', 'HTML/CSS', 'JavaScript', 'Figma'],
  cg_maya: ['í¬í† ìƒµ', 'ì¼ëŸ¬ìŠ¤íŠ¸', 'ë§ˆì•¼', 'ì• í”„í„°ì´í™íŠ¸', 'ZBrush'],
  it_programming: ['Cì–¸ì–´', 'Java', 'Python'],
  ai: ['ChatGPT', 'Midjourney', 'AI ì˜ìƒ íˆ´'],
  artwork: ['í¬í† ìƒµ', 'ì¼ëŸ¬ìŠ¤íŠ¸', 'ë””ì§€í„¸ë“œë¡œì‰ íˆ´'],
  certification: ['í¬í† ìƒµ', 'ì¼ëŸ¬ìŠ¤íŠ¸', 'ì—‘ì…€', 'AutoCAD']
};

// â”€â”€ API KEY â”€â”€
function saveApiKey() {
  const key = document.getElementById('apiKeyInput').value.trim();
  if (!key) { alert('API í‚¤ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.'); return; }
  apiKey = key;
  document.getElementById('apiModal').style.display = 'none';
}

// â”€â”€ STEP NAVIGATION â”€â”€
function showSection(n) {
  document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
  document.getElementById('sec' + n).classList.add('active');
  document.getElementById('loading').style.display = 'none';
  document.getElementById('result').style.display = 'none';
  for (let i = 1; i <= 4; i++) {
    const step = document.getElementById('step' + i);
    step.classList.remove('active', 'done');
    if (i < n) step.classList.add('done');
    else if (i === n) step.classList.add('active');
    if (i < 4) {
      const line = document.getElementById('line' + i);
      line.classList.toggle('done', i < n);
    }
  }
}

function goToStep1() { showSection(1); }
function goToStep2() {
  const name = document.getElementById('name').value.trim();
  const age = document.getElementById('age').value;
  const bg = document.getElementById('background').value;
  if (!name || !age || !bg) { alert('ì´ë¦„, ë‚˜ì´, ë°°ê²½ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.'); return; }
  showSection(2);
}
function goToStep3() {
  if (!selectedGoal) { alert('ëª©í‘œ ìœ í˜•ì„ ì„ íƒí•´ì£¼ì„¸ìš”.'); return; }
  if (!selectedTrack) { alert('í¬ë§ íŠ¸ë™ì„ ì„ íƒí•´ì£¼ì„¸ìš”.'); return; }
  buildSkillCheck();
  showSection(3);
}

// â”€â”€ GOAL & TRACK SELECT â”€â”€
function selectGoal(g) {
  selectedGoal = g;
  document.querySelectorAll('.goal-btn').forEach(b => b.classList.remove('selected'));
  document.getElementById('goal_' + g).classList.add('selected');
  document.getElementById('jobField').style.display = (g === 'employment') ? 'block' : 'none';
  document.getElementById('certField').style.display = (g === 'certification') ? 'block' : 'none';
}
function selectTrack(t) {
  selectedTrack = t;
  document.querySelectorAll('.track-btn').forEach(b => b.classList.remove('selected'));
  document.getElementById('track_' + t).classList.add('selected');
}

// â”€â”€ SKILL CHECK BUILD â”€â”€
function buildSkillCheck() {
  const tools = TRACK_TOOLS[selectedTrack] || [];
  const area = document.getElementById('skillCheckArea');
  skillLevels = {};
  area.innerHTML = tools.map(tool => `
    <div class="skill-row">
      <div class="skill-name">${tool}</div>
      <div class="skill-levels" id="levels_${tool.replace(/[^a-zA-Z0-9ê°€-í£]/g,'_')}">
        ${LEVEL_LABELS.map((label, i) => `
          <button class="level-btn ${i===0?'selected':''}"
            onclick="selectLevel('${tool.replace(/[^a-zA-Z0-9ê°€-í£]/g,'_')}', '${tool}', ${i}, this)">
            ${label}
          </button>
        `).join('')}
      </div>
    </div>
  `).join('');
  tools.forEach(t => { skillLevels[t] = 0; });
}

function selectLevel(id, tool, val, el) {
  document.querySelectorAll(`#levels_${id} .level-btn`).forEach(b => b.classList.remove('selected'));
  el.classList.add('selected');
  skillLevels[tool] = val;
}

// â”€â”€ RUN ANALYSIS â”€â”€
async function runAnalysis() {
  document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
  document.getElementById('result').style.display = 'none';
  document.getElementById('loading').style.display = 'block';

  document.getElementById('step3').classList.remove('active');
  document.getElementById('step3').classList.add('done');
  document.getElementById('line3').classList.add('done');
  document.getElementById('step4').classList.add('active');

  const userInput = buildUserInput();
  try {
    const raw = await callGemini(userInput);
    analysisResult = parseResult(raw);
    renderResult(analysisResult);
  } catch(e) {
    document.getElementById('loading').style.display = 'none';
    alert('ë¶„ì„ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ' + e.message);
    showSection(3);
  }
}

function buildUserInput() {
  const skillStr = Object.entries(skillLevels)
    .map(([tool, val]) => `${tool}: ${LEVEL_LABELS[val]} (${val}/4)`)
    .join('\n');

  return `
[ê³ ê° ì •ë³´]
- ì´ë¦„: ${document.getElementById('name').value}
- ë‚˜ì´: ${document.getElementById('age').value}ì„¸
- ë°°ê²½: ${document.getElementById('background').value === 'major' ? 'ì „ê³µì/ê´€ë ¨í•™ê³¼' : 'ë¹„ì „ê³µì'}
- ëª©í‘œ ìœ í˜•: ${selectedGoal === 'employment' ? 'ì·¨ì—… ì¤€ë¹„' : 'ìê²©ì¦ ì·¨ë“'}
- í¬ë§ íŠ¸ë™: ${selectedTrack}
- í¬ë§ ì§ì—…: ${document.getElementById('desiredJob')?.value || 'ë¯¸ì •'}
- ëª©í‘œ ìê²©ì¦: ${document.getElementById('targetCert')?.value || 'ì—†ìŒ'}
- íˆ¬ì ê°€ëŠ¥ ê¸°ê°„: ${document.getElementById('availableMonths').value || 'ë¯¸ì •'}ê°œì›”
- ì£¼ë‹¹ íˆ¬ì ì‹œê°„: ${document.getElementById('hoursPerWeek').value || 'ë¯¸ì •'}ì‹œê°„

[í˜„ì¬ íˆ´ ìˆ˜ì¤€ (0=ì—†ìŒ, 1=ë…í•™, 2=í•™êµìˆ˜ê°•, 3=ìê²©ì¦, 4=ì‹¤ë¬´)]
${skillStr}
`.trim();
}

// â”€â”€ GEMINI API CALL â”€â”€
async function callGemini(userInput) {
  const systemPrompt = buildSystemPrompt();
  const resp = await fetch(
    `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-lite:generateContent?key=${apiKey}`,
    {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        contents: [{
          parts: [{ text: systemPrompt + '\n\n' + userInput }]
        }],
        generationConfig: { temperature: 0.7, maxOutputTokens: 2048 }
      })
    }
  );
  if (!resp.ok) {
    if (resp.status === 429) throw new Error('ìš”ì²­ í•œë„ ì´ˆê³¼(429). 1~2ë¶„ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
    if (resp.status === 404) throw new Error('ëª¨ë¸ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤(404). API í‚¤ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.');
    if (resp.status === 403) throw new Error('API í‚¤ê°€ ìœ íš¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤(403).');
    throw new Error('API í˜¸ì¶œ ì‹¤íŒ¨: ' + resp.status);
  }
  const data = await resp.json();
  return data.candidates[0].content.parts[0].text;
}

function buildSystemPrompt() {
  return `
ë‹¹ì‹ ì€ SBS ì•„ì¹´ë°ë¯¸ ì»´í“¨í„°ì•„íŠ¸í•™ì› ìˆ˜ì›ì ì˜ ì „ë¬¸ ìƒë‹´ AIì…ë‹ˆë‹¤.
ì•„ë˜ ì»¤ë¦¬í˜ëŸ¼ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê³ ê°ì˜ GAP ë¶„ì„ ê²°ê³¼ë¥¼ JSON í˜•ì‹ìœ¼ë¡œë§Œ ë°˜í™˜í•˜ì„¸ìš”.

[ê·œì¹™]
1. ë°˜ë“œì‹œ ì œê³µëœ ì»¤ë¦¬í˜ëŸ¼ ë°ì´í„° ì•ˆì—ì„œë§Œ ìˆ˜ì—…ì„ ì¶”ì²œí•˜ì„¸ìš”
2. ê²°ê³¼ëŠ” ë°˜ë“œì‹œ ì•„ë˜ JSON í˜•ì‹ìœ¼ë¡œë§Œ ë°˜í™˜í•˜ì„¸ìš” (ë‹¤ë¥¸ í…ìŠ¤íŠ¸ ì—†ì´)
3. ì·¨ì—… íŠ¸ë Œë“œëŠ” í˜„ì¬ ì‹œì¥ ê¸°ì¤€ìœ¼ë¡œ êµ¬ì²´ì ìœ¼ë¡œ ì‘ì„±í•˜ì„¸ìš”
4. í•™ì›ì—ì„œ ì»¤ë²„ ê°€ëŠ¥í•œ ë¶€ë¶„ê³¼ ê°œì¸ ì¤€ë¹„ í•„ìš” ë¶€ë¶„ì„ ëª…í™•íˆ êµ¬ë¶„í•˜ì„¸ìš”
5. ì˜ˆìƒ ê¸°ê°„ì€ ë¹„ì „ê³µì/ì „ê³µì êµ¬ë¶„ì— ë§ê²Œ ì œì‹œí•˜ì„¸ìš”
6. ëª¨ë“  í…ìŠ¤íŠ¸ëŠ” í•œêµ­ì–´ë¡œ ì‘ì„±í•˜ì„¸ìš”

[ì»¤ë¦¬í˜ëŸ¼ ë°ì´í„° ìš”ì•½]
- ê³µí†µê¸°ì´ˆ: í¬í† ìƒµ ê¸°ì´ˆ(1ê°œì›”), í¬í† ì›ìŠ¤(1ê°œì›”), ì¼ëŸ¬ìŠ¤íŠ¸ ê¸°ì´ˆ(1ê°œì›”), ë””í…Œì¼ì¼ëŸ¬ìŠ¤íŠ¸(1ê°œì›”)
- ëª¨ì…˜/ì˜ìƒ: í”„ë¦¬ë¯¸ì–´(1ê°œì›”), ì• í”„í„°ì´í™íŠ¸ 1~3(ê°1ê°œì›”), ì‹œë„¤ë§ˆ4D 1~5(ê°1ê°œì›”), ëª¨ì…˜í¬í´(ìµœì†Œ2ê°œì›”)
- ê±´ì¶•/ì¸í…Œë¦¬ì–´: ì‹¤ë‚´ê±´ì¶•ìê²©ì¦(ê¸°ëŠ¥ì‚¬3~4ê°œì›”/ì‚°ì—…ê¸°ì‚¬4~5ê°œì›”/ê¸°ì‚¬5~6ê°œì›”), ìŠ¤ì¼€ì¹˜ì—…1~2(ê°1ê°œì›”), ìºë“œ1~2(ê°1ê°œì›”), ë§¥ìŠ¤1~2(ê°1ê°œì›”), BIM1~2(ê°1ê°œì›”)
- ì‹œê°/í¸ì§‘: ì¸í¬ê·¸ë˜í”½1~2(ê°1ê°œì›”), ë¸Œëœë”©1~2(ê°1ê°œì›”), íŒ¨í‚¤ì§€1~2(ê°1ê°œì›”), ê·¸ë˜í”½ì•„íŠ¸ì›(1ê°œì›”), ì¸ë””ìì¸1~2(ê°1ê°œì›”)
- ì›¹ë””ìì¸: ì¸í¬ê·¸ë˜í”½(2ê°œì›”), ë¸Œëœë”©(2ê°œì›”), ì›¹í¼ë¸”ë¦¬ì…”1~4(HTML/CSS/JS/jQuery ê°1ê°œì›”), UI/UX1~2(ê°1ê°œì›”)
- CG/ë§ˆì•¼: ë§ˆì•¼1~9(ê°1ê°œì›”), ì• í”„í„°ì´í™íŠ¸(3ê°œì›”), Unreal(1ê°œì›”)
- IT/í”„ë¡œê·¸ë˜ë°: Cì–¸ì–´(2ê°œì›”), Java(2ê°œì›”), Python(2ê°œì›”), AICEìê²©ì¦(1ê°œì›”), ë°±ì—”ë“œJSP/DB(6ê°œì›”)
- AI: AIìê²©ì¦(1ê°œì›”), AIê¸°ì´ˆë°˜(1ê°œì›”), AIìœ íŠœë¸Œ(1ê°œì›”), AIì˜ìƒí¸ì§‘(1ê°œì›”)
- ì•„íŠ¸ì›: ë””ì§€í„¸ë“œë¡œì‰(ê°œì¸ë§ì¶¤), AIì•„íŠ¸ì›(1ê°œì›”)
- AIí¬ë¦¬ì—ì´í„°: ê° íŠ¸ë™ë³„ ì‹¬í™” ë§ˆì§€ë§‰ ë‹¨ê³„ (1ê°œì›”)
- ì‚¬ë¬´ìê²©ì¦: MOS/ì»´í™œ2ê¸‰/ì»´í™œ1ê¸‰(ê°1ê°œì›”), ì „ì‚°íšŒê³„1ê¸‰/ì „ì‚°ì„¸ë¬´2ê¸‰(ê°2ê°œì›”)

[ì¶œë ¥ JSON í˜•ì‹]
{
  "customer_summary": { "name": "", "goal": "", "background": "" },
  "current_level_summary": "í˜„ì¬ ìˆ˜ì¤€ ìš”ì•½",
  "gap_analysis": {
    "strong_points": ["ê°•ì 1", "ê°•ì 2"],
    "weak_points": ["ë³´ì™„í•„ìš”1", "ë³´ì™„í•„ìš”2"],
    "gap_description": "ì „ì²´ GAP ì„¤ëª…"
  },
  "recommended_courses": [
    { "order": 1, "course_name": "ìˆ˜ì—…ëª…", "duration_months": "ê¸°ê°„", "reason": "ì´ìœ " }
  ],
  "total_duration": { "min_months": 0, "max_months": 0 },
  "goal_guide": "ëª©í‘œ ë‹¬ì„±ì„ ìœ„í•œ êµ¬ì²´ì ì¸ ê°€ì´ë“œ (ì·¨ì—…íŠ¸ë Œë“œ, í¬íŠ¸í´ë¦¬ì˜¤ ìš”êµ¬ì‚¬í•­, ìê²©ì¦ ì¤€ë¹„ ë°©ë²• ë“±)",
  "academy_coverage": {
    "coverable": ["í•™ì›ì—ì„œ ì¤€ë¹„ ê°€ëŠ¥í•œ í•­ëª©"],
    "not_coverable": ["ê°œì¸ ìì²´ ì¤€ë¹„ í•„ìš” í•­ëª©"],
    "recommendation": "ìµœì¢… ì•ˆë‚´ ë©˜íŠ¸"
  }
}
`.trim();
}

// â”€â”€ PARSE RESULT â”€â”€
function parseResult(raw) {
  try {
    const match = raw.match(/\{[\s\S]*\}/);
    if (match) return JSON.parse(match[0]);
    return JSON.parse(raw);
  } catch(e) {
    throw new Error('ê²°ê³¼ íŒŒì‹± ì‹¤íŒ¨. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
  }
}

// â”€â”€ RENDER RESULT â”€â”€
function renderResult(r) {
  document.getElementById('loading').style.display = 'none';
  document.getElementById('result').style.display = 'block';

  document.getElementById('resultTitle').textContent = `${r.customer_summary.name}ë‹˜ GAP ë¶„ì„ ê²°ê³¼`;
  document.getElementById('resultSubtitle').textContent = `${r.customer_summary.goal} Â· ${r.customer_summary.background}`;
  document.getElementById('currentLevelSummary').textContent = r.current_level_summary;
  document.getElementById('gapDescription').textContent = r.gap_analysis.gap_description;

  document.getElementById('strongPoints').innerHTML =
    (r.gap_analysis.strong_points || []).map(p => `<span class="tag tag-strong">${p}</span>`).join('');
  document.getElementById('weakPoints').innerHTML =
    (r.gap_analysis.weak_points || []).map(p => `<span class="tag tag-weak">${p}</span>`).join('');

  document.getElementById('courseTimeline').innerHTML =
    (r.recommended_courses || []).map(c => `
      <div class="course-item">
        <div class="course-order">${c.order}</div>
        <div class="course-info">
          <div class="course-name">${c.course_name}</div>
          <div class="course-reason">${c.reason}</div>
        </div>
        <div class="course-duration">${c.duration_months}ê°œì›”</div>
      </div>
    `).join('');

  document.getElementById('durationMin').textContent = r.total_duration.min_months;
  document.getElementById('durationMax').textContent = r.total_duration.max_months;
  document.getElementById('goalGuide').textContent = r.goal_guide;

  document.getElementById('coverableList').innerHTML =
    (r.academy_coverage.coverable || []).map(i => `<li>${i}</li>`).join('');
  document.getElementById('notCoverableList').innerHTML =
    (r.academy_coverage.not_coverable || []).map(i => `<li>${i}</li>`).join('');
  document.getElementById('recommendationBox').textContent = r.academy_coverage.recommendation;

  window.scrollTo({ top: 0, behavior: 'smooth' });
}

// â”€â”€ PDF â”€â”€
function generatePDF() {
  if (!analysisResult) return;
  // ì¸ì‡„ ëŒ€í™”ìƒì ì—´ê¸° (ë¸Œë¼ìš°ì € ë‚´ì¥ PDF ì €ì¥ ê¸°ëŠ¥ í™œìš©)
  // í•œê¸€ ì™„ë²½ ì§€ì›, ë³„ë„ í°íŠ¸ ì„¤ì¹˜ ë¶ˆí•„ìš”
  window.print();
}

// â”€â”€ RESET â”€â”€
function resetAll() {
  selectedGoal = '';
  selectedTrack = '';
  skillLevels = {};
  analysisResult = null;
  document.getElementById('result').style.display = 'none';
  document.querySelectorAll('.goal-btn, .track-btn').forEach(b => b.classList.remove('selected'));
  showSection(1);
}
</script>
</body>
</html>
