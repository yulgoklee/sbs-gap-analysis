<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SBS ì•„ì¹´ë°ë¯¸ | ë§ì¶¤ GAP ë¶„ì„</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&family=Bebas+Neue&display=swap" rel="stylesheet"/>
  <style>
    :root {
      --primary: #0052CC;
      --accent: #FF5630;
      --bg: #F4F5F7;
      --surface: #FFFFFF;
      --text: #172B4D;
      --text-sub: #6B778C;
      --border: #DFE1E6;
      --success: #00875A;
      --radius: 12px;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: 'Noto Sans KR', sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
    }

    /* â”€â”€ HEADER â”€â”€ */
    header {
      background: var(--primary);
      color: white;
      padding: 20px 40px;
      display: flex;
      align-items: center;
      gap: 16px;
    }
    header .logo-text {
      font-family: 'Bebas Neue', sans-serif;
      font-size: 28px;
      letter-spacing: 2px;
    }
    header .subtitle { font-size: 13px; opacity: .75; margin-top: 2px; }
    header .badge {
      margin-left: auto;
      background: var(--accent);
      color: white;
      font-size: 11px;
      font-weight: 700;
      padding: 4px 10px;
      border-radius: 20px;
      letter-spacing: 1px;
    }

    /* â”€â”€ MAIN LAYOUT â”€â”€ */
    main { max-width: 900px; margin: 40px auto; padding: 0 24px 80px; }

    /* â”€â”€ STEP INDICATOR â”€â”€ */
    .steps { display: flex; align-items: center; gap: 0; margin-bottom: 36px; }
    .step { display: flex; align-items: center; gap: 8px; flex: 1; }
    .step-num {
      width: 32px; height: 32px;
      border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      font-size: 13px; font-weight: 700;
      background: var(--border); color: var(--text-sub);
      transition: all .3s; flex-shrink: 0;
    }
    .step.active .step-num { background: var(--primary); color: white; }
    .step.done .step-num { background: var(--success); color: white; }
    .step-label { font-size: 13px; color: var(--text-sub); font-weight: 500; }
    .step.active .step-label { color: var(--primary); font-weight: 700; }
    .step-line { flex: 1; height: 2px; background: var(--border); margin: 0 8px; }
    .step-line.done { background: var(--success); }

    /* â”€â”€ CARD â”€â”€ */
    .card {
      background: var(--surface);
      border-radius: var(--radius);
      padding: 32px;
      margin-bottom: 24px;
      border: 1px solid var(--border);
      box-shadow: 0 2px 8px rgba(0,0,0,.06);
    }
    .card-title {
      font-size: 18px; font-weight: 700; color: var(--text);
      margin-bottom: 6px; display: flex; align-items: center; gap: 10px;
    }
    .card-title .icon {
      width: 32px; height: 32px; background: #E3F2FD;
      border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 16px;
    }
    .card-desc { font-size: 13px; color: var(--text-sub); margin-bottom: 24px; }

    /* â”€â”€ FORM ELEMENTS â”€â”€ */
    .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
    .form-group { display: flex; flex-direction: column; gap: 6px; }
    .form-group.full { grid-column: 1 / -1; }
    label { font-size: 13px; font-weight: 600; color: var(--text); }
    label span { color: var(--accent); }
    input[type="text"], input[type="number"], select, textarea {
      border: 1.5px solid var(--border); border-radius: 8px;
      padding: 10px 14px; font-size: 14px;
      font-family: 'Noto Sans KR', sans-serif; color: var(--text);
      background: white; transition: border-color .2s; outline: none;
    }
    input:focus, select:focus, textarea:focus { border-color: var(--primary); }

    /* â”€â”€ GOAL SELECTOR â”€â”€ */
    .goal-selector { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 0; }
    .goal-btn {
      padding: 16px; border: 2px solid var(--border); border-radius: 10px;
      cursor: pointer; text-align: center; transition: all .2s; background: white;
    }
    .goal-btn:hover { border-color: var(--primary); }
    .goal-btn.selected { border-color: var(--primary); background: #EBF2FF; }
    .goal-btn .goal-icon { font-size: 28px; margin-bottom: 8px; }
    .goal-btn .goal-name { font-size: 15px; font-weight: 700; }
    .goal-btn .goal-desc { font-size: 12px; color: var(--text-sub); margin-top: 4px; }

    /* â”€â”€ TRACK SELECTOR â”€â”€ */
    .track-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
    .track-btn {
      padding: 14px 10px; border: 2px solid var(--border); border-radius: 10px;
      cursor: pointer; text-align: center; transition: all .2s; background: white;
    }
    .track-btn:hover { border-color: var(--primary); }
    .track-btn.selected { border-color: var(--primary); background: #EBF2FF; }
    .track-btn .track-icon { font-size: 22px; margin-bottom: 6px; }
    .track-btn .track-name { font-size: 13px; font-weight: 700; }

    /* â”€â”€ SKILL LEVEL â”€â”€ */
    .skill-row {
      display: flex; align-items: center; gap: 12px;
      padding: 12px 0; border-bottom: 1px solid var(--border);
    }
    .skill-row:last-child { border-bottom: none; }
    .skill-name { font-size: 14px; font-weight: 600; width: 120px; flex-shrink: 0; }
    .skill-levels { display: flex; gap: 6px; flex: 1; flex-wrap: wrap; }
    .level-btn {
      padding: 6px 10px; border: 1.5px solid var(--border);
      border-radius: 20px; font-size: 12px; cursor: pointer;
      transition: all .2s; background: white; color: var(--text-sub); white-space: nowrap;
    }
    .level-btn:hover { border-color: var(--primary); color: var(--primary); }
    .level-btn.selected { background: var(--primary); border-color: var(--primary); color: white; font-weight: 600; }

    /* â”€â”€ HIDDEN SECTIONS â”€â”€ */
    .section { display: none; }
    .section.active { display: block; }

    /* â”€â”€ BUTTONS â”€â”€ */
    .btn-analyze {
      width: 100%; padding: 18px; background: var(--primary); color: white;
      border: none; border-radius: 10px; font-size: 16px; font-weight: 700;
      font-family: 'Noto Sans KR', sans-serif; cursor: pointer;
      transition: background .2s, transform .1s;
      display: flex; align-items: center; justify-content: center; gap: 10px;
    }
    .btn-analyze:hover { background: #003FA3; }
    .btn-analyze:active { transform: scale(.99); }
    .btn-analyze:disabled { background: var(--border); color: var(--text-sub); cursor: not-allowed; }
    .btn-pdf {
      width: 100%; padding: 16px; background: var(--accent); color: white;
      border: none; border-radius: 10px; font-size: 15px; font-weight: 700;
      font-family: 'Noto Sans KR', sans-serif; cursor: pointer; margin-top: 24px;
      transition: background .2s;
    }
    .btn-pdf:hover { background: #DE350B; }
    .btn-reset {
      width: 100%; padding: 14px; background: white; color: var(--text-sub);
      border: 1.5px solid var(--border); border-radius: 10px; font-size: 14px; font-weight: 600;
      font-family: 'Noto Sans KR', sans-serif; cursor: pointer; margin-top: 10px; transition: all .2s;
    }
    .btn-reset:hover { border-color: var(--primary); color: var(--primary); }

    /* â”€â”€ LOADING â”€â”€ */
    #loading { display: none; text-align: center; padding: 60px 20px; }
    .spinner {
      width: 48px; height: 48px; border: 4px solid var(--border);
      border-top-color: var(--primary); border-radius: 50%;
      animation: spin 1s linear infinite; margin: 0 auto 20px;
    }
    @keyframes spin { to { transform: rotate(360deg); } }
    .loading-text { font-size: 15px; color: var(--text-sub); }
    .loading-sub { font-size: 13px; color: var(--text-sub); margin-top: 8px; opacity: .7; }

    /* â”€â”€ RESULT â”€â”€ */
    #result { display: none; }

    .result-header {
      background: linear-gradient(135deg, var(--primary), #0041A3);
      color: white; border-radius: var(--radius); padding: 32px; margin-bottom: 24px;
    }
    .result-header h2 { font-size: 22px; font-weight: 900; margin-bottom: 6px; }
    .result-header p { opacity: .8; font-size: 14px; }

    .result-section {
      background: var(--surface); border-radius: var(--radius);
      padding: 28px; margin-bottom: 16px; border: 1px solid var(--border);
    }
    .result-section h3 {
      font-size: 16px; font-weight: 700; margin-bottom: 16px;
      padding-bottom: 12px; border-bottom: 2px solid var(--bg);
      display: flex; align-items: center; gap: 8px;
    }
    .result-section h3 .dot { width: 8px; height: 8px; border-radius: 50%; background: var(--primary); }

    /* â”€â”€ TAGS â”€â”€ */
    .tag-list { display: flex; flex-wrap: wrap; gap: 8px; }
    .tag { padding: 5px 12px; border-radius: 20px; font-size: 12px; font-weight: 600; }
    .tag-strong { background: #E3F9E5; color: var(--success); }
    .tag-weak { background: #FFF0EB; color: var(--accent); }
    .tag-course { background: #EBF2FF; color: var(--primary); }

    /* â”€â”€ INFO BOX â”€â”€ */
    .info-box {
      background: var(--bg); border-radius: 10px; padding: 16px 20px;
      font-size: 13px; line-height: 1.8; color: var(--text); white-space: pre-wrap;
    }

    /* â”€â”€ RADAR CHART â”€â”€ */
    .radar-wrapper {
      display: flex; flex-direction: column; align-items: center;
      margin-bottom: 24px;
    }
    .radar-legend {
      display: flex; gap: 20px; margin-top: 8px; flex-wrap: wrap; justify-content: center;
    }
    .radar-legend-item { display: flex; align-items: center; gap: 6px; font-size: 12px; color: var(--text-sub); }
    .radar-legend-line {
      width: 24px; height: 3px; border-radius: 2px; flex-shrink: 0;
    }
    .radar-legend-line.target { background: #FF5630; }
    .radar-legend-line.current { background: #0052CC; }

    /* â”€â”€ GAP COLUMNS â”€â”€ */
    .gap-columns { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-top: 16px; }
    .gap-col-label { font-size: 12px; font-weight: 700; margin-bottom: 8px; }

    /* â”€â”€ PORTFOLIO LINKS â”€â”€ */
    .portfolio-links { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 12px; }
    .portfolio-link-card {
      display: block; padding: 14px 16px;
      border: 1.5px solid var(--border); border-radius: 10px;
      text-decoration: none; color: inherit; transition: all .2s; background: white;
    }
    .portfolio-link-card:hover {
      border-color: var(--primary);
      box-shadow: 0 2px 8px rgba(0,82,204,0.12);
      transform: translateY(-2px);
    }
    .portfolio-link-title { font-size: 13px; font-weight: 700; color: var(--primary); margin-bottom: 5px; }
    .portfolio-link-desc { font-size: 12px; color: var(--text-sub); line-height: 1.4; }

    /* â”€â”€ COURSE TIMELINE â”€â”€ */
    .course-timeline { display: flex; flex-direction: column; gap: 0; }
    .course-item { display: flex; gap: 16px; padding: 14px 0; border-bottom: 1px solid var(--border); }
    .course-item:last-child { border-bottom: none; }
    .course-order {
      width: 28px; height: 28px; background: var(--primary); color: white;
      border-radius: 50%; display: flex; align-items: center; justify-content: center;
      font-size: 12px; font-weight: 700; flex-shrink: 0;
    }
    .course-info { flex: 1; }
    .course-name { font-size: 14px; font-weight: 700; margin-bottom: 4px; }
    .course-reason { font-size: 12px; color: var(--text-sub); }
    .course-duration { font-size: 12px; font-weight: 700; color: var(--primary); flex-shrink: 0; }

    /* â”€â”€ DURATION BOX â”€â”€ */
    .duration-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
    .duration-box { background: var(--bg); border-radius: 10px; padding: 20px; text-align: center; }
    .duration-num { font-family: 'Bebas Neue', sans-serif; font-size: 48px; color: var(--primary); line-height: 1; }
    .duration-label { font-size: 13px; color: var(--text-sub); margin-top: 4px; }

    /* â”€â”€ MONTHLY PLANNER â”€â”€ */
    .planner-scroll { overflow-x: auto; padding-bottom: 8px; }
    .planner-grid { display: flex; gap: 12px; min-width: max-content; }
    .planner-card {
      width: 155px; flex-shrink: 0;
      border: 1.5px solid var(--border); border-radius: 10px;
      padding: 14px 12px; background: white;
    }
    .planner-month-badge {
      font-size: 11px; font-weight: 700; color: white;
      background: var(--primary); border-radius: 6px;
      padding: 4px 8px; margin-bottom: 10px; text-align: center;
    }
    .planner-courses { display: flex; flex-direction: column; gap: 4px; }
    .planner-course {
      font-size: 11px; color: var(--text); padding: 4px 6px;
      background: #EBF2FF; border-radius: 4px; font-weight: 500;
    }
    .planner-milestone {
      font-size: 10px; color: var(--text-sub); margin-top: 8px;
      padding-top: 8px; border-top: 1px solid var(--border); line-height: 1.4;
    }

    /* â”€â”€ COVERAGE â”€â”€ */
    .coverage-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
    .coverage-box { border-radius: 10px; padding: 16px; }
    .coverage-box.can { background: #E3F9E5; }
    .coverage-box.cannot { background: #FFF0EB; }
    .coverage-box h4 { font-size: 13px; font-weight: 700; margin-bottom: 10px; }
    .coverage-box.can h4 { color: var(--success); }
    .coverage-box.cannot h4 { color: var(--accent); }
    .coverage-box ul { list-style: none; }
    .coverage-box ul li { font-size: 13px; padding: 3px 0; }
    .coverage-box ul li::before { content: "â€¢ "; }

    .recommendation-box {
      background: linear-gradient(135deg, #EBF2FF, #E3F2FD);
      border-radius: 10px; padding: 20px; font-size: 14px;
      line-height: 1.7; color: var(--text); border-left: 4px solid var(--primary);
    }

    /* â”€â”€ API KEY MODAL â”€â”€ */
    #apiModal {
      position: fixed; inset: 0; background: rgba(0,0,0,.5);
      display: flex; align-items: center; justify-content: center; z-index: 1000;
    }
    .modal-box { background: white; border-radius: 16px; padding: 36px; width: 460px; max-width: 90vw; }
    .modal-box h3 { font-size: 20px; font-weight: 700; margin-bottom: 8px; }
    .modal-box p { font-size: 13px; color: var(--text-sub); margin-bottom: 20px; line-height: 1.6; }
    .modal-box input { width: 100%; margin-bottom: 16px; }
    .btn-modal {
      width: 100%; padding: 14px; background: var(--primary); color: white;
      border: none; border-radius: 8px; font-size: 15px; font-weight: 700;
      font-family: 'Noto Sans KR', sans-serif; cursor: pointer;
    }

    @media (max-width: 600px) {
      .form-grid { grid-template-columns: 1fr; }
      .track-grid { grid-template-columns: repeat(2, 1fr); }
      .goal-selector { grid-template-columns: 1fr; }
      .coverage-grid { grid-template-columns: 1fr; }
      .gap-columns { grid-template-columns: 1fr; }
      .duration-grid { grid-template-columns: 1fr; }
      header { padding: 16px 20px; }
      main { padding: 0 16px 60px; }
    }

    /* â”€â”€ ì¸ì‡„ìš© CSS â”€â”€ */
    @media print {
      * { -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; }
      body { background: white; }
      header, .steps, #sec1, #sec2, #sec3, #loading,
      #apiModal, .btn-pdf, .btn-reset { display: none !important; }
      #result { display: block !important; }
      main { max-width: 100%; margin: 0; padding: 0; }

      .result-header {
        background: #0052CC !important; color: white !important;
        border-radius: 0; padding: 20px 28px; margin-bottom: 0;
      }
      .result-header h2 { font-size: 18px; }
      .result-header p { font-size: 12px; opacity: .8; margin-top: 4px; }

      .result-section {
        border: 1px solid #DFE1E6; border-radius: 8px;
        padding: 14px 18px; margin: 10px 20px;
        page-break-inside: avoid; box-shadow: none;
      }
      .result-section h3 { font-size: 13px; font-weight: 700; margin-bottom: 10px; padding-bottom: 8px; }

      /* ë ˆì´ë” ì°¨íŠ¸ ì¸ì‡„ */
      .radar-wrapper svg { max-width: 320px !important; }

      /* í¬íŠ¸í´ë¦¬ì˜¤ ë§í¬ ì¸ì‡„ */
      .portfolio-link-card {
        border: 1px solid #DFE1E6 !important;
        box-shadow: none !important; transform: none !important;
      }
      .portfolio-link-title { font-size: 11px; }
      .portfolio-link-desc { font-size: 10px; }

      /* ìˆ˜ì—… ë¡œë“œë§µ ì¸ì‡„ */
      .course-item { padding: 7px 0; }
      .course-name { font-size: 12px; }
      .course-reason { font-size: 11px; }
      .course-duration { font-size: 11px; }
      .course-order { width: 22px; height: 22px; font-size: 10px; background: #0052CC !important; color: white !important; }

      /* ê¸°ê°„ ì¸ì‡„ */
      .duration-box { background: #F4F5F7 !important; padding: 12px; }
      .duration-num { font-size: 32px; color: #0052CC !important; }
      .duration-label { font-size: 11px; }

      /* íƒœê·¸ ì¸ì‡„ */
      .tag { font-size: 11px; padding: 3px 8px; }
      .tag-strong { background: #E3F9E5 !important; color: #00875A !important; }
      .tag-weak { background: #FFF0EB !important; color: #FF5630 !important; }

      /* ì›”ë³„ í”Œë˜ë„ˆ ì¸ì‡„ */
      .planner-scroll { overflow-x: visible; }
      .planner-grid { flex-wrap: wrap; min-width: auto; }
      .planner-card { width: 120px; padding: 10px; }
      .planner-month-badge { background: #0052CC !important; font-size: 10px; }
      .planner-course { background: #EBF2FF !important; font-size: 10px; }
      .planner-milestone { font-size: 9px; }

      /* ì»¤ë²„ë¦¬ì§€ ì¸ì‡„ */
      .coverage-grid { grid-template-columns: 1fr 1fr; }
      .coverage-box.can { background: #E3F9E5 !important; }
      .coverage-box.cannot { background: #FFF0EB !important; }
      .coverage-box h4 { font-size: 12px; }
      .coverage-box ul li { font-size: 11px; }
      .recommendation-box { background: #EBF2FF !important; font-size: 12px; border-left: 4px solid #0052CC !important; padding: 12px; }

      .info-box { background: #F4F5F7 !important; font-size: 12px; line-height: 1.7; padding: 10px 14px; }
      .print-footer { display: block !important; text-align: center; padding: 14px; font-size: 10px; color: #6B778C; border-top: 1px solid #DFE1E6; margin: 12px 20px 0; }
      .result-section:nth-child(6) { page-break-before: always; }
    }
    .print-footer { display: none; }
  </style>
</head>
<body>

<!-- API KEY MODAL -->
<div id="apiModal">
  <div class="modal-box">
    <h3>ğŸ”‘ Gemini API í‚¤ ì„¤ì •</h3>
    <p>Gemini API í‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš”.<br/>í‚¤ëŠ” ì´ ë¸Œë¼ìš°ì € ì„¸ì…˜ì—ë§Œ ì €ì¥ë˜ë©° ì™¸ë¶€ë¡œ ì „ì†¡ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>
    <input type="text" id="apiKeyInput" placeholder="AIza..." />
    <button class="btn-modal" onclick="saveApiKey()">ì €ì¥í•˜ê³  ì‹œì‘í•˜ê¸°</button>
  </div>
</div>

<!-- HEADER -->
<header>
  <div>
    <div class="logo-text">SBS ACADEMY</div>
    <div class="subtitle">ì»´í“¨í„°ì•„íŠ¸í•™ì› ìˆ˜ì›ì  Â· 031-546-3644</div>
  </div>
  <div class="badge">AI ìƒë‹´ ì‹œìŠ¤í…œ v1.1</div>
</header>

<!-- MAIN -->
<main>

  <!-- STEP INDICATOR -->
  <div class="steps">
    <div class="step active" id="step1">
      <div class="step-num">1</div>
      <div class="step-label">ê¸°ë³¸ ì •ë³´</div>
    </div>
    <div class="step-line" id="line1"></div>
    <div class="step" id="step2">
      <div class="step-num">2</div>
      <div class="step-label">ëª©í‘œ ì„¤ì •</div>
    </div>
    <div class="step-line" id="line2"></div>
    <div class="step" id="step3">
      <div class="step-num">3</div>
      <div class="step-label">í˜„ì¬ ìˆ˜ì¤€</div>
    </div>
    <div class="step-line" id="line3"></div>
    <div class="step" id="step4">
      <div class="step-num">4</div>
      <div class="step-label">GAP ë¶„ì„</div>
    </div>
  </div>

  <!-- SECTION 1: ê¸°ë³¸ ì •ë³´ -->
  <div class="section active" id="sec1">
    <div class="card">
      <div class="card-title"><div class="icon">ğŸ‘¤</div>ê¸°ë³¸ ì •ë³´ ì…ë ¥</div>
      <div class="card-desc">ìƒë‹´ ê³ ê°ì˜ ê¸°ë³¸ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.</div>
      <div class="form-grid">
        <div class="form-group">
          <label>ì´ë¦„ <span>*</span></label>
          <input type="text" id="name" placeholder="í™ê¸¸ë™" />
        </div>
        <div class="form-group">
          <label>ë‚˜ì´ <span>*</span></label>
          <input type="number" id="age" placeholder="25" min="15" max="70" />
        </div>
        <div class="form-group">
          <label>ë°°ê²½ <span>*</span></label>
          <select id="background">
            <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
            <option value="non_major">ë¹„ì „ê³µì</option>
            <option value="major">ì „ê³µì / ê´€ë ¨í•™ê³¼</option>
          </select>
        </div>
        <div class="form-group">
          <label>íˆ¬ì ê°€ëŠ¥ ê¸°ê°„</label>
          <input type="number" id="availableMonths" placeholder="ì˜ˆ: 12" min="1" max="36" />
        </div>
        <div class="form-group full">
          <label>ì£¼ë‹¹ íˆ¬ì ê°€ëŠ¥ ì‹œê°„</label>
          <select id="hoursPerWeek">
            <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
            <option value="10">ì£¼ 10ì‹œê°„ ì´í•˜ (íŒŒíŠ¸íƒ€ì„)</option>
            <option value="20">ì£¼ 20ì‹œê°„ ë‚´ì™¸ (ë°˜ì¼)</option>
            <option value="30">ì£¼ 30ì‹œê°„ ì´ìƒ (í’€íƒ€ì„)</option>
          </select>
        </div>
      </div>
      <button class="btn-analyze" style="margin-top:24px" onclick="goToStep2()">ë‹¤ìŒ ë‹¨ê³„ â†’</button>
    </div>
  </div>

  <!-- SECTION 2: ëª©í‘œ ì„¤ì • -->
  <div class="section" id="sec2">
    <div class="card">
      <div class="card-title"><div class="icon">ğŸ¯</div>ëª©í‘œ ì„¤ì •</div>
      <div class="card-desc">ê³ ê°ì˜ ë°©ë¬¸ ëª©ì ì„ ì„ íƒí•´ì£¼ì„¸ìš”.</div>

      <label style="margin-bottom:12px; display:block">ëª©í‘œ ìœ í˜• <span style="color:var(--accent)">*</span></label>
      <div class="goal-selector" style="margin-bottom:24px">
        <div class="goal-btn" onclick="selectGoal('employment')" id="goal_employment">
          <div class="goal-icon">ğŸ’¼</div>
          <div class="goal-name">ì·¨ì—… ì¤€ë¹„</div>
          <div class="goal-desc">í¬íŠ¸í´ë¦¬ì˜¤ ì œì‘ + ì·¨ì—…ê¹Œì§€</div>
        </div>
        <div class="goal-btn" onclick="selectGoal('certification')" id="goal_certification">
          <div class="goal-icon">ğŸ“œ</div>
          <div class="goal-name">ìê²©ì¦ ì·¨ë“</div>
          <div class="goal-desc">íŠ¹ì • ìê²©ì¦ ì§‘ì¤‘ ì¤€ë¹„</div>
        </div>
      </div>

      <label style="margin-bottom:12px; display:block">í¬ë§ íŠ¸ë™ <span style="color:var(--accent)">*</span></label>
      <div class="track-grid" id="trackGrid">
        <div class="track-btn" onclick="selectTrack('motion')" id="track_motion">
          <div class="track-icon">ğŸ¬</div><div class="track-name">ëª¨ì…˜/ì˜ìƒ</div>
        </div>
        <div class="track-btn" onclick="selectTrack('interior')" id="track_interior">
          <div class="track-icon">ğŸ </div><div class="track-name">ê±´ì¶•/ì¸í…Œë¦¬ì–´</div>
        </div>
        <div class="track-btn" onclick="selectTrack('visual_editing')" id="track_visual_editing">
          <div class="track-icon">ğŸ¨</div><div class="track-name">ì‹œê°/í¸ì§‘ë””ìì¸</div>
        </div>
        <div class="track-btn" onclick="selectTrack('web')" id="track_web">
          <div class="track-icon">ğŸŒ</div><div class="track-name">ì›¹ë””ìì¸</div>
        </div>
        <div class="track-btn" onclick="selectTrack('cg_maya')" id="track_cg_maya">
          <div class="track-icon">ğŸ¤–</div><div class="track-name">CG/ë§ˆì•¼</div>
        </div>
        <div class="track-btn" onclick="selectTrack('it_programming')" id="track_it_programming">
          <div class="track-icon">ğŸ’»</div><div class="track-name">IT/í”„ë¡œê·¸ë˜ë°</div>
        </div>
        <div class="track-btn" onclick="selectTrack('ai')" id="track_ai">
          <div class="track-icon">âœ¨</div><div class="track-name">AI</div>
        </div>
        <div class="track-btn" onclick="selectTrack('artwork')" id="track_artwork">
          <div class="track-icon">ğŸ–Œï¸</div><div class="track-name">ì•„íŠ¸ì›</div>
        </div>
        <div class="track-btn" onclick="selectTrack('certification')" id="track_certification">
          <div class="track-icon">ğŸ“‹</div><div class="track-name">ìê²©ì¦ ê³¼ì •</div>
        </div>
      </div>

      <div id="jobField" style="display:none; margin-top:20px">
        <div class="form-group">
          <label>í¬ë§ ì§ì—… (ì„ íƒ)</label>
          <input type="text" id="desiredJob" placeholder="ì˜ˆ: ëª¨ì…˜ê·¸ë˜í¼, ì›¹ ë””ìì´ë„ˆ, ë¯¸ì •" />
        </div>
      </div>
      <div id="certField" style="display:none; margin-top:20px">
        <div class="form-group">
          <label>ëª©í‘œ ìê²©ì¦ <span style="color:var(--accent)">*</span></label>
          <input type="text" id="targetCert" placeholder="ì˜ˆ: GTQ 1ê¸‰, ì»´í™œ 1ê¸‰" />
        </div>
      </div>

      <div style="display:flex; gap:10px; margin-top:24px">
        <button class="btn-reset" onclick="goToStep1()" style="width:auto; padding:14px 24px">â† ì´ì „</button>
        <button class="btn-analyze" onclick="goToStep3()">ë‹¤ìŒ ë‹¨ê³„ â†’</button>
      </div>
    </div>
  </div>

  <!-- SECTION 3: í˜„ì¬ ìˆ˜ì¤€ -->
  <div class="section" id="sec3">
    <div class="card">
      <div class="card-title"><div class="icon">ğŸ“Š</div>í˜„ì¬ ìˆ˜ì¤€ ì²´í¬</div>
      <div class="card-desc">ê° íˆ´ì˜ ê²½í—˜ ìˆ˜ì¤€ì„ ì„ íƒí•´ì£¼ì„¸ìš”. ì—†ìœ¼ë©´ 'ì—†ìŒ'ì„ ì„ íƒí•˜ì„¸ìš”.</div>
      <div id="skillCheckArea"></div>
      <div style="display:flex; gap:10px; margin-top:24px">
        <button class="btn-reset" onclick="goToStep2()" style="width:auto; padding:14px 24px">â† ì´ì „</button>
        <button class="btn-analyze" onclick="runAnalysis()">ğŸ” GAP ë¶„ì„ ì‹œì‘</button>
      </div>
    </div>
  </div>

  <!-- LOADING -->
  <div id="loading">
    <div class="spinner"></div>
    <div class="loading-text">AIê°€ GAP ë¶„ì„ ì¤‘ì…ë‹ˆë‹¤...</div>
    <div class="loading-sub">Geminiê°€ ì»¤ë¦¬í˜ëŸ¼ Â· ì·¨ì—…ì‹œì¥ Â· ìê²©ì¦ ë°ì´í„°ë¥¼ ì¢…í•© ë¶„ì„ ì¤‘ì´ì—ìš”</div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <!--  RESULT                                    -->
  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div id="result">

    <!-- í—¤ë” -->
    <div class="result-header">
      <h2 id="resultTitle">GAP ë¶„ì„ ê²°ê³¼</h2>
      <p id="resultSubtitle"></p>
    </div>

    <!-- 1. í˜„ì¬ ìˆ˜ì¤€ ì§„ë‹¨ -->
    <div class="result-section">
      <h3><div class="dot"></div>í˜„ì¬ ìˆ˜ì¤€ ì§„ë‹¨</h3>
      <div class="info-box" id="currentLevelSummary"></div>
    </div>

    <!-- 2. GAP ë¶„ì„ (ë ˆì´ë” ì°¨íŠ¸ + ê°•ì /ì•½ì ) -->
    <div class="result-section">
      <h3><div class="dot"></div>GAP ë¶„ì„</h3>

      <!-- ë ˆì´ë” ì°¨íŠ¸ -->
      <div class="radar-wrapper">
        <div id="radarChartContainer" style="width:100%; max-width:480px;"></div>
        <div class="radar-legend">
          <div class="radar-legend-item">
            <div class="radar-legend-line target" style="border-top:2px dashed #FF5630; background:none; height:0;"></div>
            <span id="radarLegendTarget">ì·¨ì—… ëª©í‘œ ìˆ˜ì¤€</span>
          </div>
          <div class="radar-legend-item">
            <div class="radar-legend-line current"></div>
            <span>í˜„ì¬ ìˆ˜ì¤€</span>
          </div>
        </div>
      </div>

      <!-- GAP ì„¤ëª… -->
      <div class="info-box" id="gapDescription" style="margin-bottom:16px"></div>

      <!-- ê°•ì /ë³´ì™„ íƒœê·¸ -->
      <div class="gap-columns">
        <div>
          <div class="gap-col-label" style="color:var(--success)">âœ… ê°•ì </div>
          <div class="tag-list" id="strongPoints"></div>
        </div>
        <div>
          <div class="gap-col-label" style="color:var(--accent)">âš ï¸ ë³´ì™„ í•„ìš”</div>
          <div class="tag-list" id="weakPoints"></div>
        </div>
      </div>
    </div>

    <!-- 3. í¬íŠ¸í´ë¦¬ì˜¤ ì°¸ê³  ë§í¬ (ì¡°ê±´ë¶€) -->
    <div class="result-section" id="portfolioSection" style="display:none">
      <h3><div class="dot"></div>í¬íŠ¸í´ë¦¬ì˜¤ ì°¸ê³  ë§í¬</h3>
      <p style="font-size:12px; color:var(--text-sub); margin-bottom:12px">ì•„ë˜ ì‚¬ì´íŠ¸ì—ì„œ í•´ë‹¹ ë¶„ì•¼ ìš°ìˆ˜ í¬íŠ¸í´ë¦¬ì˜¤ë¥¼ í™•ì¸í•˜ê³  ë°©í–¥ì„ ì¡ì•„ë³´ì„¸ìš”.</p>
      <div class="portfolio-links" id="portfolioLinks"></div>
    </div>

    <!-- 4. ì¶”ì²œ ìˆ˜ì—… ë¡œë“œë§µ -->
    <div class="result-section">
      <h3><div class="dot"></div>ì¶”ì²œ ìˆ˜ì—… ë¡œë“œë§µ</h3>
      <div class="course-timeline" id="courseTimeline"></div>
    </div>

    <!-- 5. ì˜ˆìƒ ì†Œìš” ê¸°ê°„ -->
    <div class="result-section">
      <h3><div class="dot"></div>ì˜ˆìƒ ì†Œìš” ê¸°ê°„</h3>
      <div class="duration-grid">
        <div class="duration-box">
          <div class="duration-num" id="durationMin">-</div>
          <div class="duration-label">ìµœì†Œ ê°œì›”</div>
        </div>
        <div class="duration-box">
          <div class="duration-num" id="durationMax">-</div>
          <div class="duration-label">ìµœëŒ€ ê°œì›”</div>
        </div>
      </div>
      <div id="durationNote" style="margin-top:12px; font-size:12px; color:var(--text-sub); text-align:center;"></div>
    </div>

    <!-- 6. ì›”ë³„ í•™ìŠµ í”Œë˜ë„ˆ -->
    <div class="result-section" id="monthlyPlannerSection" style="display:none">
      <h3><div class="dot"></div>ì›”ë³„ í•™ìŠµ í”Œë˜ë„ˆ</h3>
      <p style="font-size:12px; color:var(--text-sub); margin-bottom:14px">ì¢Œìš°ë¡œ ìŠ¤í¬ë¡¤í•˜ì—¬ ì „ì²´ í”Œëœì„ í™•ì¸í•˜ì„¸ìš”.</p>
      <div class="planner-scroll">
        <div class="planner-grid" id="monthlyPlannerGrid"></div>
      </div>
    </div>

    <!-- 7. í•™ì› ìˆ˜ê°• ì•ˆë‚´ -->
    <div class="result-section">
      <h3><div class="dot"></div>í•™ì› ìˆ˜ê°• ì•ˆë‚´</h3>
      <div class="coverage-grid" style="margin-bottom:16px">
        <div class="coverage-box can">
          <h4>âœ… í•™ì›ì—ì„œ ì¤€ë¹„ ê°€ëŠ¥</h4>
          <ul id="coverableList"></ul>
        </div>
        <div class="coverage-box cannot">
          <h4>ğŸ“Œ ê°œì¸ ìì²´ ì¤€ë¹„ í•„ìš”</h4>
          <ul id="notCoverableList"></ul>
        </div>
      </div>
      <div class="recommendation-box" id="recommendationBox"></div>
    </div>

    <button class="btn-pdf" onclick="generatePDF()">ğŸ“„ PDFë¡œ ì €ì¥í•˜ê¸° (Ctrl+P)</button>
    <div class="print-footer">SBS ì•„ì¹´ë°ë¯¸ ì»´í“¨í„°ì•„íŠ¸í•™ì› ìˆ˜ì›ì  | Tel. 031-546-3644 | ë³¸ ìë£ŒëŠ” AI ìƒë‹´ ì‹œìŠ¤í…œì„ í†µí•´ ìƒì„±ëœ ë§ì¶¤í˜• ë¶„ì„ ê²°ê³¼ì…ë‹ˆë‹¤.</div>
    <button class="btn-reset" onclick="resetAll()">ğŸ”„ ìƒˆ ìƒë‹´ ì‹œì‘</button>
  </div><!-- /result -->

</main>

<script>

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  STATE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let apiKey = '';
let selectedGoal = '';
let selectedTrack = '';
let skillLevels = {};
let analysisResult = null;

const LEVEL_LABELS = ['ì—†ìŒ', 'ë…í•™/ì¡°ê¸ˆ ê²½í—˜', 'í•™êµ/í•™ì› ìˆ˜ê°•', 'ìê²©ì¦ ë³´ìœ ', 'ì‹¤ë¬´ ê²½í—˜'];

const TRACK_TOOLS = {
  motion:          ['í¬í† ìƒµ', 'ì¼ëŸ¬ìŠ¤íŠ¸', 'í”„ë¦¬ë¯¸ì–´í”„ë¡œ', 'ì• í”„í„°ì´í™íŠ¸', 'ì‹œë„¤ë§ˆ4D'],
  interior:        ['í¬í† ìƒµ', 'ì¼ëŸ¬ìŠ¤íŠ¸', 'AutoCAD(ìºë“œ)', 'ìŠ¤ì¼€ì¹˜ì—…', '3ds Max'],
  visual_editing:  ['í¬í† ìƒµ', 'ì¼ëŸ¬ìŠ¤íŠ¸', 'ì¸ë””ìì¸'],
  web:             ['í¬í† ìƒµ', 'ì¼ëŸ¬ìŠ¤íŠ¸', 'HTML/CSS', 'JavaScript', 'Figma'],
  cg_maya:         ['í¬í† ìƒµ', 'ì¼ëŸ¬ìŠ¤íŠ¸', 'ë§ˆì•¼', 'ì• í”„í„°ì´í™íŠ¸', 'ZBrush'],
  it_programming:  ['Cì–¸ì–´', 'Java', 'Python'],
  ai:              ['ChatGPT', 'Midjourney', 'AI ì˜ìƒ íˆ´'],
  artwork:         ['í¬í† ìƒµ', 'ì¼ëŸ¬ìŠ¤íŠ¸', 'ë””ì§€í„¸ë“œë¡œì‰ íˆ´'],
  certification:   ['í¬í† ìƒµ', 'ì¼ëŸ¬ìŠ¤íŠ¸', 'ì—‘ì…€', 'AutoCAD']
};

// â”€â”€ íŠ¸ë™ë³„ ë ˆì´ë” ì°¨íŠ¸ ì„¤ì • â”€â”€
const TRACK_RADAR_CONFIG = {
  motion: {
    axes: ['ì˜ìƒ ê¸°íšë ¥', 'í¸ì§‘(í”„ë¦¬ë¯¸ì–´)', 'ëª¨ì…˜ê·¸ë˜í”½(AE)', '3D(ì‹œë„¤ë§ˆ4D)', 'í¬íŠ¸í´ë¦¬ì˜¤', 'íŠ¸ë Œë“œ ì´í•´'],
    employment_target: [3, 5, 4, 3, 5, 3],
    cert_target:       [2, 4, 4, 2, 3, 2]
  },
  interior: {
    axes: ['ê³µê°„ ê¸°íšë ¥', '2Dë„ë©´(CAD)', '3Dëª¨ë¸ë§', 'ë Œë”ë§(Max)', 'í¬íŠ¸í´ë¦¬ì˜¤', 'ìê²©ì¦ ë³´ìœ '],
    employment_target: [3, 5, 5, 4, 4, 3],
    cert_target:       [2, 5, 2, 2, 2, 5]
  },
  visual_editing: {
    axes: ['ë¸Œëœë”© ê¸°íšë ¥', 'í¬í† ìƒµ', 'ì¼ëŸ¬ìŠ¤íŠ¸', 'ì¸ë””ìì¸', 'í¬íŠ¸í´ë¦¬ì˜¤', 'í¸ì§‘ ê°ê°'],
    employment_target: [4, 5, 5, 4, 5, 3],
    cert_target:       [2, 5, 5, 3, 3, 2]
  },
  web: {
    axes: ['UI/UX ì„¤ê³„', 'ë””ìì¸íˆ´(PS/AI)', 'HTML/CSS', 'JavaScript', 'ë°˜ì‘í˜• êµ¬í˜„', 'í¬íŠ¸í´ë¦¬ì˜¤'],
    employment_target: [4, 4, 5, 4, 4, 4],
    cert_target:       [3, 3, 5, 4, 4, 3]
  },
  cg_maya: {
    axes: ['3D ê¸°íšë ¥', 'ë§ˆì•¼ ëª¨ë¸ë§', 'í…ìŠ¤ì²˜/ë Œë”ë§', 'ë¦¬ê¹…Â·ì• ë‹ˆë©”ì´ì…˜', 'ì–¸ë¦¬ì–¼ ì—”ì§„', 'í¬íŠ¸í´ë¦¬ì˜¤'],
    employment_target: [3, 5, 4, 3, 3, 5],
    cert_target:       [2, 4, 4, 3, 2, 4]
  },
  it_programming: {
    axes: ['ì•Œê³ ë¦¬ì¦˜ ì´í•´', 'ì–¸ì–´ ìˆ™ë ¨ë„', 'DB/ë°±ì—”ë“œ', 'GitHub ê´€ë¦¬', 'í”„ë¡œì íŠ¸ ê²½í—˜', 'ìê²©ì¦'],
    employment_target: [4, 5, 5, 4, 4, 3],
    cert_target:       [3, 4, 3, 3, 2, 5]
  },
  ai: {
    axes: ['í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§', 'ì´ë¯¸ì§€ AI', 'ì˜ìƒ AI', 'ChatGPT í™œìš©', 'ì½˜í…ì¸  ê¸°íš', 'AI ìê²©ì¦'],
    employment_target: [5, 4, 3, 4, 4, 3],
    cert_target:       [3, 3, 2, 4, 2, 5]
  },
  artwork: {
    axes: ['ë“œë¡œì‰ ê¸°ì´ˆ', 'ì±„ìƒ‰/ë Œë”ë§', 'ìºë¦­í„° ë””ìì¸', 'ë””ì§€í„¸ íˆ´', 'AI ì•„íŠ¸ í™œìš©', 'í¬íŠ¸í´ë¦¬ì˜¤'],
    employment_target: [4, 4, 4, 4, 3, 4],
    cert_target:       [3, 3, 3, 4, 2, 3]
  },
  certification: {
    axes: ['í¬í† ìƒµ í™œìš©', 'ì¼ëŸ¬ìŠ¤íŠ¸ í™œìš©', 'ì˜¤í”¼ìŠ¤/ì—‘ì…€', 'CAD í™œìš©', 'íšŒê³„/ì„¸ë¬´', 'ìê²©ì¦ ì´í•´ë„'],
    employment_target: [3, 3, 4, 3, 3, 5],
    cert_target:       [4, 4, 5, 4, 4, 5]
  }
};

// â”€â”€ íŠ¸ë™ë³„ í¬íŠ¸í´ë¦¬ì˜¤ ì°¸ê³  ì‚¬ì´íŠ¸ â”€â”€
const TRACK_PORTFOLIO_SITES = {
  motion: [
    { title: 'Behance Â· ëª¨ì…˜ê·¸ë˜í”½', url: 'https://www.behance.net/search/projects?search=motion+graphic', description: 'êµ­ë‚´ì™¸ ëª¨ì…˜ê·¸ë˜í”½ í¬íŠ¸í´ë¦¬ì˜¤ ì°¸ê³ ' },
    { title: 'Vimeo Â· Motion Design', url: 'https://vimeo.com/categories/animation', description: 'ì˜ìƒ/ì• ë‹ˆë©”ì´ì…˜ í¬íŠ¸í´ë¦¬ì˜¤ ì°¸ê³ ' },
    { title: 'ArtStation Â· Motion', url: 'https://www.artstation.com/channels/motion-graphics', description: 'ì „ë¬¸ ì•„í‹°ìŠ¤íŠ¸ ëª¨ì…˜ í¬íŠ¸í´ë¦¬ì˜¤' }
  ],
  interior: [
    { title: 'Archinect Portfolio', url: 'https://archinect.com/portfolio', description: 'ê±´ì¶•/ì¸í…Œë¦¬ì–´ í¬íŠ¸í´ë¦¬ì˜¤ ì°¸ê³ ' },
    { title: 'Dezeen Â· Architecture', url: 'https://www.dezeen.com/architecture/', description: 'ê±´ì¶• ë””ìì¸ íŠ¸ë Œë“œ ì°¸ê³ ' },
    { title: 'Pinterest Â· ì¸í…Œë¦¬ì–´', url: 'https://www.pinterest.co.kr/ideas/interior-design/', description: 'ì¸í…Œë¦¬ì–´ ì•„ì´ë””ì–´ ë° í¬íŠ¸í´ë¦¬ì˜¤ ì°¸ê³ ' }
  ],
  visual_editing: [
    { title: 'Behance Â· Graphic Design', url: 'https://www.behance.net/search/projects?search=graphic+design', description: 'ê·¸ë˜í”½/í¸ì§‘ ë””ìì¸ í¬íŠ¸í´ë¦¬ì˜¤ ì°¸ê³ ' },
    { title: 'Dribbble Â· Visual Design', url: 'https://dribbble.com/tags/graphic_design', description: 'ì‹œê° ë””ìì¸ íŠ¸ë Œë“œ ì°¸ê³ ' },
    { title: 'Pinterest Â· Brand Design', url: 'https://www.pinterest.co.kr/ideas/brand-design/', description: 'ë¸Œëœë”© ë””ìì¸ ì•„ì´ë””ì–´ ì°¸ê³ ' }
  ],
  web: [
    { title: 'Behance Â· UI/UX', url: 'https://www.behance.net/search/projects?search=ui+ux', description: 'UI/UX ë””ìì¸ í¬íŠ¸í´ë¦¬ì˜¤ ì°¸ê³ ' },
    { title: 'Dribbble Â· Web Design', url: 'https://dribbble.com/tags/web_design', description: 'ì›¹ ë””ìì¸ íŠ¸ë Œë“œ ì°¸ê³ ' },
    { title: 'Awwwards', url: 'https://www.awwwards.com/', description: 'ì„¸ê³„ ìµœê³  ìˆ˜ì¤€ ì›¹ ë””ìì¸ ì°¸ê³ ' }
  ],
  cg_maya: [
    { title: 'ArtStation Â· 3D Art', url: 'https://www.artstation.com/channels/character-art', description: 'ì „ë¬¸ 3D ì•„í‹°ìŠ¤íŠ¸ í¬íŠ¸í´ë¦¬ì˜¤ ì°¸ê³ ' },
    { title: 'CGSociety', url: 'https://cgsociety.org/', description: 'CG/VFX ì „ë¬¸ê°€ ì»¤ë®¤ë‹ˆí‹°' },
    { title: 'Sketchfab', url: 'https://sketchfab.com/', description: '3D ëª¨ë¸ í¬íŠ¸í´ë¦¬ì˜¤ í”Œë«í¼' }
  ],
  it_programming: [
    { title: 'GitHub Trending', url: 'https://github.com/trending', description: 'íŠ¸ë Œë”© ì˜¤í”ˆì†ŒìŠ¤ í”„ë¡œì íŠ¸ ì°¸ê³ ' },
    { title: 'Naver D2', url: 'https://d2.naver.com/home', description: 'ë„¤ì´ë²„ ê¸°ìˆ  ë¸”ë¡œê·¸ ì°¸ê³ ' }
  ],
  ai: [
    { title: 'Behance Â· AI Art', url: 'https://www.behance.net/search/projects?search=AI+art', description: 'AI ìƒì„± ì•„íŠ¸ í¬íŠ¸í´ë¦¬ì˜¤ ì°¸ê³ ' },
    { title: 'Midjourney Explore', url: 'https://www.midjourney.com/explore', description: 'Midjourney ì‘í’ˆ íƒìƒ‰' }
  ],
  artwork: [
    { title: 'ArtStation Â· Illustration', url: 'https://www.artstation.com/channels/illustration', description: 'ì¼ëŸ¬ìŠ¤íŠ¸ë ˆì´ì…˜ í¬íŠ¸í´ë¦¬ì˜¤ ì°¸ê³ ' },
    { title: 'Pixiv', url: 'https://www.pixiv.net/', description: 'ë””ì§€í„¸ ì•„íŠ¸ ì»¤ë®¤ë‹ˆí‹°' },
    { title: 'Behance Â· Illustration', url: 'https://www.behance.net/search/projects?search=illustration', description: 'ì¼ëŸ¬ìŠ¤íŠ¸ í¬íŠ¸í´ë¦¬ì˜¤ ì°¸ê³ ' }
  ],
  certification: [
    { title: 'Q-net íë„·', url: 'https://www.q-net.or.kr/', description: 'ìê²©ì¦ ì‹œí—˜ ì •ë³´ ë° ì ‘ìˆ˜ ì•ˆë‚´' }
  ]
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  API KEY
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function saveApiKey() {
  const key = document.getElementById('apiKeyInput').value.trim();
  if (!key) { alert('API í‚¤ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.'); return; }
  apiKey = key;
  document.getElementById('apiModal').style.display = 'none';
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  STEP NAVIGATION
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function showSection(n) {
  document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
  document.getElementById('sec' + n).classList.add('active');
  document.getElementById('loading').style.display = 'none';
  document.getElementById('result').style.display = 'none';
  for (let i = 1; i <= 4; i++) {
    const step = document.getElementById('step' + i);
    step.classList.remove('active', 'done');
    if (i < n) step.classList.add('done');
    else if (i === n) step.classList.add('active');
    if (i < 4) {
      document.getElementById('line' + i).classList.toggle('done', i < n);
    }
  }
}

function goToStep1() { showSection(1); }
function goToStep2() {
  const name = document.getElementById('name').value.trim();
  const age  = document.getElementById('age').value;
  const bg   = document.getElementById('background').value;
  if (!name || !age || !bg) { alert('ì´ë¦„, ë‚˜ì´, ë°°ê²½ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.'); return; }
  showSection(2);
}
function goToStep3() {
  if (!selectedGoal) { alert('ëª©í‘œ ìœ í˜•ì„ ì„ íƒí•´ì£¼ì„¸ìš”.'); return; }
  if (!selectedTrack) { alert('í¬ë§ íŠ¸ë™ì„ ì„ íƒí•´ì£¼ì„¸ìš”.'); return; }
  buildSkillCheck();
  showSection(3);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  GOAL & TRACK SELECT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function selectGoal(g) {
  selectedGoal = g;
  document.querySelectorAll('.goal-btn').forEach(b => b.classList.remove('selected'));
  document.getElementById('goal_' + g).classList.add('selected');
  document.getElementById('jobField').style.display  = (g === 'employment')    ? 'block' : 'none';
  document.getElementById('certField').style.display = (g === 'certification') ? 'block' : 'none';
}
function selectTrack(t) {
  selectedTrack = t;
  document.querySelectorAll('.track-btn').forEach(b => b.classList.remove('selected'));
  document.getElementById('track_' + t).classList.add('selected');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  SKILL CHECK BUILD
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function buildSkillCheck() {
  const tools = TRACK_TOOLS[selectedTrack] || [];
  const area = document.getElementById('skillCheckArea');
  skillLevels = {};
  area.innerHTML = tools.map(tool => `
    <div class="skill-row">
      <div class="skill-name">${tool}</div>
      <div class="skill-levels" id="levels_${tool.replace(/[^a-zA-Z0-9ê°€-í£]/g,'_')}">
        ${LEVEL_LABELS.map((label, i) => `
          <button class="level-btn ${i===0?'selected':''}"
            onclick="selectLevel('${tool.replace(/[^a-zA-Z0-9ê°€-í£]/g,'_')}', '${tool}', ${i}, this)">
            ${label}
          </button>
        `).join('')}
      </div>
    </div>
  `).join('');
  tools.forEach(t => { skillLevels[t] = 0; });
}

function selectLevel(id, tool, val, el) {
  document.querySelectorAll(`#levels_${id} .level-btn`).forEach(b => b.classList.remove('selected'));
  el.classList.add('selected');
  skillLevels[tool] = val;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  RUN ANALYSIS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
async function runAnalysis() {
  document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
  document.getElementById('result').style.display = 'none';
  document.getElementById('loading').style.display = 'block';
  document.getElementById('step3').classList.remove('active');
  document.getElementById('step3').classList.add('done');
  document.getElementById('line3').classList.add('done');
  document.getElementById('step4').classList.add('active');

  const userInput = buildUserInput();
  try {
    const raw = await callGemini(userInput);
    analysisResult = parseResult(raw);
    renderResult(analysisResult);
  } catch(e) {
    document.getElementById('loading').style.display = 'none';
    alert('ë¶„ì„ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ' + e.message);
    showSection(3);
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  BUILD USER INPUT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function buildUserInput() {
  const skillStr = Object.entries(skillLevels)
    .map(([tool, val]) => `- ${tool}: ${LEVEL_LABELS[val]} (${val}/4)`)
    .join('\n');

  const radarConfig = TRACK_RADAR_CONFIG[selectedTrack] || TRACK_RADAR_CONFIG.certification;
  const goalLabel = selectedGoal === 'employment' ? 'ì·¨ì—… ì¤€ë¹„' : 'ìê²©ì¦ ì·¨ë“';
  const targetVals = selectedGoal === 'employment' ? radarConfig.employment_target : radarConfig.cert_target;

  return `[ê³ ê° ì •ë³´]
- ì´ë¦„: ${document.getElementById('name').value}
- ë‚˜ì´: ${document.getElementById('age').value}ì„¸
- ë°°ê²½: ${document.getElementById('background').value === 'major' ? 'ì „ê³µì/ê´€ë ¨í•™ê³¼' : 'ë¹„ì „ê³µì'}
- ëª©í‘œ ìœ í˜•: ${goalLabel}
- í¬ë§ íŠ¸ë™: ${selectedTrack}
- í¬ë§ ì§ì—…: ${document.getElementById('desiredJob')?.value || 'ë¯¸ì •'}
- ëª©í‘œ ìê²©ì¦: ${document.getElementById('targetCert')?.value || 'ì—†ìŒ'}
- íˆ¬ì ê°€ëŠ¥ ê¸°ê°„: ${document.getElementById('availableMonths').value || 'ë¯¸ì •'}ê°œì›”
- ì£¼ë‹¹ íˆ¬ì ì‹œê°„: ${document.getElementById('hoursPerWeek').value || 'ë¯¸ì •'}ì‹œê°„

[í˜„ì¬ íˆ´ ìˆ˜ì¤€ (0=ì—†ìŒ / 1=ë…í•™ / 2=í•™êµìˆ˜ê°• / 3=ìê²©ì¦ë³´ìœ  / 4=ì‹¤ë¬´ê²½í—˜)]
${skillStr}

[ë ˆì´ë” ì°¨íŠ¸ ë¶„ì„ ìš”ì²­]
ë‹¤ìŒ 6ê°œ ì¶•(0~5ì )ì˜ í˜„ì¬ ìˆ˜ì¤€ì„ ìŠ¤í‚¬ ì…ë ¥ê³¼ ê³ ê° ë°°ê²½ì„ ê³ ë ¤í•´ ê³„ì‚° í›„ radar_current ë°°ì—´ë¡œ ë°˜í™˜í•˜ì„¸ìš”.
ì¶•: ${JSON.stringify(radarConfig.axes)}
ëª©í‘œ ìˆ˜ì¤€(${goalLabel}): ${JSON.stringify(targetVals)}
ë³€í™˜ ê¸°ì¤€: ì—†ìŒ=0, ë…í•™=1, í•™êµìˆ˜ê°•=2, ìê²©ì¦=3, ì‹¤ë¬´=4~5 (ì „ê³µìë©´ +0.5 ë³´ì •)

[ì›”ë³„ í”Œë˜ë„ˆ ìš”ì²­]
ì¶”ì²œ ìˆ˜ì—…ì„ ìˆœì„œëŒ€ë¡œ ì›”ë³„ë¡œ ë°°ì¹˜í•´ monthly_planner ë°°ì—´ë¡œ ë°˜í™˜í•˜ì„¸ìš”.
month_offset=1ì´ ë‹¤ìŒ ë‹¬ ê¸°ì¤€ ì²« ë²ˆì§¸ ë‹¬ì…ë‹ˆë‹¤.
ê° monthë‹¹ ìˆ˜ì—…ëª…(courses ë°°ì—´)ê³¼ ì´ë‹¬ ëª©í‘œ(milestone ë¬¸ìì—´)ë¥¼ í¬í•¨í•˜ì„¸ìš”.`.trim();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  BUILD SYSTEM PROMPT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function buildSystemPrompt() {
  const radarConfig = TRACK_RADAR_CONFIG[selectedTrack] || TRACK_RADAR_CONFIG.certification;
  const goalLabel   = selectedGoal === 'employment' ? 'ì·¨ì—… ì¤€ë¹„' : 'ìê²©ì¦ ì·¨ë“';
  const targetVals  = selectedGoal === 'employment' ? radarConfig.employment_target : radarConfig.cert_target;

  return `ë‹¹ì‹ ì€ SBS ì•„ì¹´ë°ë¯¸ ì»´í“¨í„°ì•„íŠ¸í•™ì› ìˆ˜ì›ì ì˜ ì „ë¬¸ ìƒë‹´ AIì…ë‹ˆë‹¤.
ì•„ë˜ ì»¤ë¦¬í˜ëŸ¼ ë° ì·¨ì—…Â·ìê²©ì¦ ë°ì´í„°ë¥¼ í† ëŒ€ë¡œ ê³ ê° ë§ì¶¤ GAP ë¶„ì„ ê²°ê³¼ë¥¼ JSON í˜•ì‹ìœ¼ë¡œë§Œ ë°˜í™˜í•˜ì„¸ìš”.

[ë¶„ì„ ê·œì¹™]
1. ë°˜ë“œì‹œ í•™ì› ì»¤ë¦¬í˜ëŸ¼ ì•ˆì—ì„œë§Œ ìˆ˜ì—…ì„ ì¶”ì²œí•˜ì„¸ìš”
2. íˆ¬ì ê°€ëŠ¥ ê¸°ê°„ë³´ë‹¤ í•„ìš” ê¸°ê°„ì´ ê¸¸ë©´ í˜„ì‹¤ì ì¸ ì „ì²´ ê¸°ê°„ì„ ê·¸ëŒ€ë¡œ ì œì‹œí•˜ì„¸ìš” (ë‹¨ì¶• ê¸ˆì§€)
3. ì·¨ì—… íŠ¸ë Œë“œëŠ” 2025~2026ë…„ í•œêµ­ ê¸°ì¤€ìœ¼ë¡œ êµ¬ì²´ì ìœ¼ë¡œ ì‘ì„±í•˜ì„¸ìš”
4. ìê²©ì¦ ëª©í‘œ ì‹œ ì‹œí—˜ íšŸìˆ˜, ì£¼ê´€ì²˜, ì‘ì‹œ ì¡°ê±´ì„ milestoneì— ë°˜ì˜í•˜ì„¸ìš”
5. ë°˜ë“œì‹œ ìˆœìˆ˜ JSONë§Œ ë°˜í™˜í•˜ì„¸ìš” (ë§ˆí¬ë‹¤ìš´ ì½”ë“œë¸”ë¡ ì—†ì´)
6. ëª¨ë“  í…ìŠ¤íŠ¸ëŠ” í•œêµ­ì–´ë¡œ ì‘ì„±í•˜ì„¸ìš”

[ë ˆì´ë” ì°¨íŠ¸ ê¸°ì¤€]
íŠ¸ë™: ${selectedTrack} | ëª©í‘œ: ${goalLabel}
6ê°œ ì¶•: ${JSON.stringify(radarConfig.axes)}
ëª©í‘œ ìˆ˜ì¤€(5ì  ë§Œì ): ${JSON.stringify(targetVals)}

[í•™ì› ì»¤ë¦¬í˜ëŸ¼ ë°ì´í„°]
â–  ê³µí†µê¸°ì´ˆ
- í¬í† ìƒµ ê¸°ì´ˆ(1ê°œì›”), í¬í† ì›ìŠ¤/ì‹¬í™”(1ê°œì›”), ì¼ëŸ¬ìŠ¤íŠ¸ ê¸°ì´ˆ(1ê°œì›”), ë””í…Œì¼ì¼ëŸ¬ìŠ¤íŠ¸/ì‹¬í™”(1ê°œì›”)

â–  ëª¨ì…˜/ì˜ìƒ
- í”„ë¦¬ë¯¸ì–´í”„ë¡œ(1), ì• í”„í„°ì´í™íŠ¸1(1), ì• í”„í„°ì´í™íŠ¸2(1), ì• í”„í„°ì´í™íŠ¸3(1)
- ì‹œë„¤ë§ˆ4D 1~5(ê° 1ê°œì›”), ëª¨ì…˜í¬íŠ¸í´ë¦¬ì˜¤(ìµœì†Œ 2ê°œì›”), AIí¬ë¦¬ì—ì´í„°-ëª¨ì…˜(1, ì„ íƒ)

â–  ê±´ì¶•/ì¸í…Œë¦¬ì–´
- ì‹¤ë‚´ê±´ì¶•ìê²©ì¦: ê¸°ëŠ¥ì‚¬(3~4ê°œì›”)/ì‚°ì—…ê¸°ì‚¬(4~5ê°œì›”)/ê¸°ì‚¬(5~6ê°œì›”)
- ìŠ¤ì¼€ì¹˜ì—…1~2(ê°1), ìºë“œ1~2(ê°1), 3ds Max1~2(ê°1), BIM1~2(ê°1)
- ì¸í…Œë¦¬ì–´í¬íŠ¸í´ë¦¬ì˜¤(ìµœì†Œ2), AIí¬ë¦¬ì—ì´í„°-ì¸í…Œë¦¬ì–´(1, ì„ íƒ)

â–  ì‹œê°/í¸ì§‘ë””ìì¸
- ì¸í¬ê·¸ë˜í”½1~2(ê°1), ë¸Œëœë”©ë””ìì¸1~2(ê°1), íŒ¨í‚¤ì§€ë””ìì¸1~2(ê°1)
- ê·¸ë˜í”½ì•„íŠ¸ì›(1), ì¸ë””ìì¸1~2(ê°1), ì‹œê°í¸ì§‘í¬íŠ¸í´ë¦¬ì˜¤(ìµœì†Œ2), AIí¬ë¦¬ì—ì´í„°(1, ì„ íƒ)

â–  ì›¹ë””ìì¸
- ì¸í¬ê·¸ë˜í”½(2), ë¸Œëœë”©ë””ìì¸(2)
- ì›¹í¼ë¸”ë¦¬ì…”1 HTML(1), ì›¹í¼ë¸”ë¦¬ì…”2 CSS(1), ì›¹í¼ë¸”ë¦¬ì…”3 JS(1), ì›¹í¼ë¸”ë¦¬ì…”4 jQuery(1)
- UI/UX1(1), UI/UX2(1), ì›¹í¬íŠ¸í´ë¦¬ì˜¤(ìµœì†Œ2), AIí¬ë¦¬ì—ì´í„°-ì›¹(1, ì„ íƒ)

â–  CG/ë§ˆì•¼
- ë§ˆì•¼1~9(ê°1), ì• í”„í„°ì´í™íŠ¸(3), Unreal(1), CGí¬íŠ¸í´ë¦¬ì˜¤(ìµœì†Œ2), AIí¬ë¦¬ì—ì´í„°(1, ì„ íƒ)

â–  IT/í”„ë¡œê·¸ë˜ë°
- Cì–¸ì–´(2), Java/Android(2), Python(2), AICEìê²©ì¦(1, íŒŒì´ì¬ ì´ìˆ˜ í›„)
- ë°±ì—”ë“œ JSP/DB(6)

â–  AI
- AIìê²©ì¦(1), AIê¸°ì´ˆë°˜ ChatGPT+Midjourney(1), AIìœ íŠœë¸Œ(1), AIì˜ìƒí¸ì§‘(1)

â–  ì•„íŠ¸ì›
- ë””ì§€í„¸ë“œë¡œì‰(ê°œì¸ ë§ì¶¤, ê¸°ê°„ ê°€ë³€), AIì•„íŠ¸ì›(1), ì•„íŠ¸ì›í¬íŠ¸í´ë¦¬ì˜¤(ìµœì†Œ2)

â–  ìê²©ì¦ ë‹¨ê¸°ê³¼ì •
- GTQ2ê¸‰(1), GTQ1ê¸‰(1), GTQ-i(1), ì»´í“¨í„°ê·¸ë˜í”½ìŠ¤ê¸°ëŠ¥ì‚¬(2)
- ì›¹ë””ìì¸ê°œë°œê¸°ì‚¬(2), MOS(1), ì»´í™œ2ê¸‰(1), ì»´í™œ1ê¸‰(1)
- ì „ì‚°íšŒê³„1ê¸‰(2), ì „ì‚°ì„¸ë¬´2ê¸‰(2), CAT2ê¸‰(1), ì „ì‚°ì‘ìš©ê±´ì¶•ì œë„ê¸°ëŠ¥ì‚¬(3~4), ACP(1)

[ì·¨ì—… ì‹œì¥ ì •ë³´ (2025~2026 í•œêµ­)]
- ëª¨ì…˜/ì˜ìƒ: ìˆí¼(ë¦´ìŠ¤/ì‡¼ì¸ ) í¸ì§‘ ìˆ˜ìš” í­ì¦, AE ëª¨ì…˜ê·¸ë˜í”½+í”„ë¦¬ë¯¸ì–´ í¸ì§‘ ë™ì‹œ í•„ìˆ˜, ì‹ ì… ì—°ë´‰ 2,200~2,800ë§Œì›
- ê±´ì¶•/ì¸í…Œë¦¬ì–´: CAD ë„ë©´+3D ë Œë”ë§ ë™ì‹œ ì—­ëŸ‰ í•„ìˆ˜, ìê²©ì¦ ë³´ìœ  ìš°ëŒ€, ì‹ ì… 2,000~2,600ë§Œì›
- ì‹œê°/í¸ì§‘: ë¸Œëœë”©+SNS ì½˜í…ì¸  ì œì‘ ê°€ëŠ¥í•œ ë””ìì´ë„ˆ ìš°ëŒ€, Behance í¬í´ í•„ìˆ˜, ì‹ ì… 2,000~2,500ë§Œì›
- ì›¹ë””ìì¸: Figma+ì½”ë”© ê°€ëŠ¥í•œ UI/UX ë””ìì´ë„ˆ ìˆ˜ìš” ë†’ìŒ, ë°˜ì‘í˜• ì›¹ êµ¬í˜„ í•„ìˆ˜, ì‹ ì… 2,200~2,700ë§Œì›
- CG/ë§ˆì•¼: ê²Œì„ì‚¬(ë„¥ìŠ¨Â·ë„·ë§ˆë¸”) ë° VFX ìŠ¤íŠœë””ì˜¤ ìƒì‹œ ì±„ìš©, ArtStation í¬í´ í•„ìˆ˜, ì‹ ì… 2,400~3,000ë§Œì›
- IT/í”„ë¡œê·¸ë˜ë°: GitHub í”„ë¡œì íŠ¸+ì•Œê³ ë¦¬ì¦˜ ëŠ¥ë ¥ í•„ìˆ˜, Python/Java ë°±ì—”ë“œ ìˆ˜ìš” ë†’ìŒ, ì‹ ì… 2,600~3,200ë§Œì›
- AI: AI í™œìš© ëŠ¥ë ¥ ì „ ì§êµ° í•„ìˆ˜í™”, AI ì½˜í…ì¸  ê¸°íš ì „ë¬¸ì§ ì‹ ê·œ ìˆ˜ìš”, í”„ë¦¬ëœì„œ ë³‘í–‰ ê°€ëŠ¥
- ì•„íŠ¸ì›: ì›¹íˆ°Â·ê²Œì„Â·ê´‘ê³  ì¼ëŸ¬ìŠ¤íŠ¸ ìˆ˜ìš” ì§€ì†, ArtStation+SNS í¬í´ í•„ìˆ˜, ì‹ ì… 1,800~2,400ë§Œì›

[ìê²©ì¦ ì·¨ë“ ê¸°ì¤€]
- GTQ 1ê¸‰: í¬í† ìƒµ ì¤‘ê¸‰ ì´ìƒ, ì—° 5~6íšŒ(KPC), í•©ê²©ë¥  ì•½ 30%
- GTQ-i: ì¼ëŸ¬ìŠ¤íŠ¸ ì¤‘ê¸‰ ì´ìƒ, ì—° 5~6íšŒ(KPC)
- ì»´í“¨í„°ê·¸ë˜í”½ìŠ¤ê¸°ëŠ¥ì‚¬: í¬í† ìƒµ+ì¼ëŸ¬ìŠ¤íŠ¸, ì—° 4íšŒ(ì‚°ì—…ì¸ë ¥ê³µë‹¨), ì‹¤ê¸° ë¹„ì¤‘ í¼
- ì›¹ë””ìì¸ê°œë°œê¸°ì‚¬: HTML/CSS/JS í•„ìˆ˜, ì—° 3íšŒ(ì‚°ì—…ì¸ë ¥ê³µë‹¨)
- ì „ì‚°ì‘ìš©ê±´ì¶•ì œë„ê¸°ëŠ¥ì‚¬: AutoCAD, ì—° 4íšŒ(ì‚°ì—…ì¸ë ¥ê³µë‹¨), 3~4ê°œì›” ì¤€ë¹„
- ì‹¤ë‚´ê±´ì¶•ì‚°ì—…ê¸°ì‚¬: 2ë…„ì œ ê´€ë ¨í•™ê³¼ ì¡¸ì—… ë˜ëŠ” ì‹¤ë¬´ 2ë…„ í•„ìš”
- ì»´í™œ 1ê¸‰: ì—‘ì…€ ê³ ê¸‰+ì•¡ì„¸ìŠ¤, ì—° 6íšŒ(ëŒ€í•œìƒê³µíšŒì˜ì†Œ), í•©ê²©ë¥  ì•½ 20%
- ì „ì‚°íšŒê³„ 1ê¸‰: íšŒê³„ ì´ë¡ +KcLep í”„ë¡œê·¸ë¨, ì—° 6íšŒ(í•œêµ­ì„¸ë¬´ì‚¬íšŒ)
- AICE: Python ìˆ˜ë£Œ í›„ ì·¨ë“ ê°€ëŠ¥, AI ê´€ë ¨ êµ­ë‚´ ìµœì´ˆ ê³µì¸ ìê²©ì¦
- AI-POT 2ê¸‰: AI ê¸°ì´ˆ í™œìš©, ë‹¨ê¸° ì¤€ë¹„ ê°€ëŠ¥

[ì¶œë ¥ JSON í˜•ì‹ â€” ë°˜ë“œì‹œ ì´ í˜•ì‹ìœ¼ë¡œë§Œ ë°˜í™˜]
{
  "customer_summary": { "name": "", "goal": "", "background": "" },
  "current_level_summary": "í˜„ì¬ ìˆ˜ì¤€ 2~3ì¤„ ìš”ì•½",
  "radar_current": [0, 0, 0, 0, 0, 0],
  "gap_analysis": {
    "strong_points": ["ê°•ì 1", "ê°•ì 2", "ê°•ì 3"],
    "weak_points": ["ë³´ì™„í•„ìš”1", "ë³´ì™„í•„ìš”2", "ë³´ì™„í•„ìš”3"],
    "gap_description": "GAP ë¶„ì„ ì„¤ëª… 2~3ì¤„ (ì·¨ì—… ê¸°ì¤€ ë˜ëŠ” ìê²©ì¦ ê¸°ì¤€ìœ¼ë¡œ êµ¬ì²´ì ìœ¼ë¡œ)"
  },
  "recommended_courses": [
    { "order": 1, "course_name": "ìˆ˜ì—…ëª…", "duration_months": 1, "reason": "ì¶”ì²œ ì´ìœ  (GAP ì—°ê³„)" }
  ],
  "total_duration": { "min_months": 0, "max_months": 0 },
  "monthly_planner": [
    { "month_offset": 1, "courses": ["ìˆ˜ì—…ëª…"], "milestone": "ì´ë‹¬ ëª©í‘œ í•œ ì¤„" }
  ],
  "academy_coverage": {
    "coverable": ["í•™ì›ì—ì„œ ì»¤ë²„ ê°€ëŠ¥í•œ í•­ëª©"],
    "not_coverable": ["ê°œì¸ ìì²´ ì¤€ë¹„ í•„ìš” í•­ëª©"],
    "recommendation": "ìµœì¢… ì•ˆë‚´ ë©˜íŠ¸ 2~3ì¤„"
  }
}`.trim();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  GEMINI API CALL
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
async function callGemini(userInput) {
  const systemPrompt = buildSystemPrompt();
  const resp = await fetch(
    `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-lite:generateContent?key=${apiKey}`,
    {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        contents: [{ parts: [{ text: systemPrompt + '\n\n' + userInput }] }],
        generationConfig: { temperature: 0.7, maxOutputTokens: 4096 }
      })
    }
  );
  if (!resp.ok) {
    if (resp.status === 429) throw new Error('ìš”ì²­ í•œë„ ì´ˆê³¼(429). 1~2ë¶„ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
    if (resp.status === 404) throw new Error('ëª¨ë¸ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤(404). API í‚¤ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.');
    if (resp.status === 403) throw new Error('API í‚¤ê°€ ìœ íš¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤(403).');
    throw new Error('API í˜¸ì¶œ ì‹¤íŒ¨: ' + resp.status);
  }
  const data = await resp.json();
  return data.candidates[0].content.parts[0].text;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  PARSE RESULT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function parseResult(raw) {
  try {
    const match = raw.match(/\{[\s\S]*\}/);
    if (match) return JSON.parse(match[0]);
    return JSON.parse(raw);
  } catch(e) {
    throw new Error('ê²°ê³¼ íŒŒì‹± ì‹¤íŒ¨. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  RENDER RESULT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderResult(r) {
  document.getElementById('loading').style.display = 'none';
  document.getElementById('result').style.display = 'block';

  // í—¤ë”
  document.getElementById('resultTitle').textContent = `${r.customer_summary.name}ë‹˜ GAP ë¶„ì„ ê²°ê³¼`;
  document.getElementById('resultSubtitle').textContent =
    `${r.customer_summary.goal} Â· ${r.customer_summary.background} Â· ${new Date().toLocaleDateString('ko-KR')} ê¸°ì¤€`;

  // 1. í˜„ì¬ ìˆ˜ì¤€ ì§„ë‹¨
  document.getElementById('currentLevelSummary').textContent = r.current_level_summary;

  // 2. ë ˆì´ë” ì°¨íŠ¸
  const radarConfig  = TRACK_RADAR_CONFIG[selectedTrack] || TRACK_RADAR_CONFIG.certification;
  const targetValues = selectedGoal === 'employment' ? radarConfig.employment_target : radarConfig.cert_target;
  const currentValues = Array.isArray(r.radar_current) ? r.radar_current.map(v => Math.min(Math.max(Number(v)||0, 0), 5)) : Array(6).fill(0);
  document.getElementById('radarLegendTarget').textContent = selectedGoal === 'employment' ? 'ì·¨ì—… ëª©í‘œ ìˆ˜ì¤€' : 'ìê²©ì¦ ëª©í‘œ ìˆ˜ì¤€';
  drawRadarChart('radarChartContainer', radarConfig.axes, targetValues, currentValues);

  // GAP ì„¤ëª… + íƒœê·¸
  document.getElementById('gapDescription').textContent = r.gap_analysis.gap_description;
  document.getElementById('strongPoints').innerHTML =
    (r.gap_analysis.strong_points || []).map(p => `<span class="tag tag-strong">âœ… ${p}</span>`).join('');
  document.getElementById('weakPoints').innerHTML =
    (r.gap_analysis.weak_points || []).map(p => `<span class="tag tag-weak">âš ï¸ ${p}</span>`).join('');

  // 3. í¬íŠ¸í´ë¦¬ì˜¤ ì°¸ê³  ë§í¬
  const portfolioSites = TRACK_PORTFOLIO_SITES[selectedTrack] || [];
  if (portfolioSites.length > 0) {
    document.getElementById('portfolioSection').style.display = 'block';
    document.getElementById('portfolioLinks').innerHTML = portfolioSites.map(site => `
      <a href="${site.url}" target="_blank" rel="noopener" class="portfolio-link-card">
        <div class="portfolio-link-title">ğŸ”— ${site.title}</div>
        <div class="portfolio-link-desc">${site.description}</div>
      </a>
    `).join('');
  } else {
    document.getElementById('portfolioSection').style.display = 'none';
  }

  // 4. ì¶”ì²œ ìˆ˜ì—… ë¡œë“œë§µ
  document.getElementById('courseTimeline').innerHTML =
    (r.recommended_courses || []).map(c => `
      <div class="course-item">
        <div class="course-order">${c.order}</div>
        <div class="course-info">
          <div class="course-name">${c.course_name}</div>
          <div class="course-reason">${c.reason}</div>
        </div>
        <div class="course-duration">${c.duration_months}ê°œì›”</div>
      </div>
    `).join('');

  // 5. ì˜ˆìƒ ê¸°ê°„
  document.getElementById('durationMin').textContent = r.total_duration.min_months;
  document.getElementById('durationMax').textContent = r.total_duration.max_months;
  const avail = parseInt(document.getElementById('availableMonths').value) || 0;
  if (avail > 0 && r.total_duration.min_months > avail) {
    document.getElementById('durationNote').textContent =
      `âš ï¸ í¬ë§ ê¸°ê°„(${avail}ê°œì›”)ë³´ë‹¤ ë” í•„ìš”í•©ë‹ˆë‹¤. ëª©í‘œ ë‹¬ì„±ì„ ìœ„í•´ ê¸°ê°„ ì—°ì¥ì„ ê²€í† í•´ ë³´ì„¸ìš”.`;
  } else {
    document.getElementById('durationNote').textContent = '';
  }

  // 6. ì›”ë³„ í”Œë˜ë„ˆ
  renderMonthlyPlanner(r.monthly_planner || []);

  // 7. í•™ì› ìˆ˜ê°• ì•ˆë‚´
  document.getElementById('coverableList').innerHTML =
    (r.academy_coverage.coverable || []).map(i => `<li>${i}</li>`).join('');
  document.getElementById('notCoverableList').innerHTML =
    (r.academy_coverage.not_coverable || []).map(i => `<li>${i}</li>`).join('');
  document.getElementById('recommendationBox').textContent = r.academy_coverage.recommendation;

  window.scrollTo({ top: 0, behavior: 'smooth' });
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  DRAW RADAR CHART (SVG)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function drawRadarChart(containerId, axes, target, current) {
  const W = 480, H = 420;
  const cx = W / 2, cy = H / 2 - 15;
  const R = 130;
  const n = axes.length; // 6
  const MAX = 5;
  const labelDist = 36;

  function angle(i) { return (Math.PI * 2 * i / n) - Math.PI / 2; }

  function pt(val, i) {
    const a = angle(i);
    const r = (Math.min(Math.max(val, 0), MAX) / MAX) * R;
    return [cx + r * Math.cos(a), cy + r * Math.sin(a)];
  }

  // ë°°ê²½ ìœ¡ê°í˜• (ë ˆë²¨ 1~5)
  let bg = '';
  for (let lv = 1; lv <= 5; lv++) {
    const pts = Array.from({length: n}, (_, i) => {
      const a = angle(i);
      const r = (lv / MAX) * R;
      return `${cx + r * Math.cos(a)},${cy + r * Math.sin(a)}`;
    }).join(' ');
    const fills = ['#FDFDFF','#F8F9FF','#F2F5FF','#EBF0FF','#E3ECFF'];
    bg += `<polygon points="${pts}" fill="${fills[lv-1]}" stroke="#DFE1E6" stroke-width="0.8"/>`;
  }

  // ì¶•ì„  + ë ˆì´ë¸”
  let axLines = '', labels = '';
  for (let i = 0; i < n; i++) {
    const a = angle(i);
    const [ox, oy] = [cx + R * Math.cos(a), cy + R * Math.sin(a)];
    axLines += `<line x1="${cx}" y1="${cy}" x2="${ox}" y2="${oy}" stroke="#DFE1E6" stroke-width="1"/>`;

    const lx = cx + (R + labelDist) * Math.cos(a);
    const ly = cy + (R + labelDist) * Math.sin(a);
    const anchor = lx < cx - 8 ? 'end' : lx > cx + 8 ? 'start' : 'middle';
    const dyAdj  = ly < cy - 8 ? '-0.3em' : ly > cy + 8 ? '1em' : '0.35em';
    labels += `<text x="${lx}" y="${ly}" text-anchor="${anchor}" dy="${dyAdj}"
      font-size="10.5" font-family="'Noto Sans KR',sans-serif" fill="#5E6C84" font-weight="500">${axes[i]}</text>`;
  }

  // ë ˆë²¨ ìˆ«ì (ì²« ë²ˆì§¸ ì¶• ìœ„)
  let lvLabels = '';
  for (let lv = 1; lv <= 5; lv++) {
    const a = angle(0);
    const r = (lv / MAX) * R;
    lvLabels += `<text x="${cx + r * Math.cos(a) + 4}" y="${cy + r * Math.sin(a)}"
      font-size="8" fill="#B3BAC5" font-family="'Noto Sans KR',sans-serif" dominant-baseline="central">${lv}</text>`;
  }

  // ëª©í‘œ ë‹¤ê°í˜• (ë¹¨ê°„ ì ì„ )
  const tPts = target.map((v, i) => pt(v, i).join(',')).join(' ');
  const tPoly = `<polygon points="${tPts}" fill="rgba(255,86,48,0.1)" stroke="#FF5630" stroke-width="1.8" stroke-dasharray="5,3"/>`;

  // í˜„ì¬ ë‹¤ê°í˜• (íŒŒë€ ì‹¤ì„ )
  const cPts = current.map((v, i) => pt(v, i).join(',')).join(' ');
  const cPoly = `<polygon points="${cPts}" fill="rgba(0,82,204,0.15)" stroke="#0052CC" stroke-width="2"/>`;

  // ì  ë§ˆì»¤
  let dots = '';
  target.forEach((v, i) => {
    const [px, py] = pt(v, i);
    dots += `<circle cx="${px}" cy="${py}" r="3" fill="#FF5630" stroke="white" stroke-width="1.2"/>`;
  });
  current.forEach((v, i) => {
    const [px, py] = pt(v, i);
    dots += `<circle cx="${px}" cy="${py}" r="4" fill="#0052CC" stroke="white" stroke-width="1.5"/>`;
  });

  // ë²”ë¡€
  const legendY = H - 20;
  const legend = `
    <line x1="20" y1="${legendY}" x2="40" y2="${legendY}" stroke="#FF5630" stroke-width="2" stroke-dasharray="5,3"/>
    <circle cx="30" cy="${legendY}" r="3" fill="#FF5630"/>
    <text x="46" y="${legendY}" font-size="10" fill="#6B778C" dominant-baseline="central" font-family="'Noto Sans KR',sans-serif">
      ${selectedGoal === 'employment' ? 'ì·¨ì—… ëª©í‘œ ìˆ˜ì¤€' : 'ìê²©ì¦ ëª©í‘œ ìˆ˜ì¤€'}
    </text>
    <line x1="200" y1="${legendY}" x2="220" y2="${legendY}" stroke="#0052CC" stroke-width="2"/>
    <circle cx="210" cy="${legendY}" r="4" fill="#0052CC"/>
    <text x="226" y="${legendY}" font-size="10" fill="#6B778C" dominant-baseline="central" font-family="'Noto Sans KR',sans-serif">í˜„ì¬ ìˆ˜ì¤€</text>
  `;

  document.getElementById(containerId).innerHTML = `
    <svg viewBox="0 0 ${W} ${H}" width="100%" style="display:block; margin:0 auto; max-width:480px">
      ${bg}${axLines}${lvLabels}${tPoly}${cPoly}${dots}${labels}${legend}
    </svg>`;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  RENDER MONTHLY PLANNER
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderMonthlyPlanner(planner) {
  const section = document.getElementById('monthlyPlannerSection');
  if (!planner || planner.length === 0) {
    section.style.display = 'none';
    return;
  }
  section.style.display = 'block';

  // ë‹¤ìŒ ë‹¬ ê¸°ì¤€ìœ¼ë¡œ ì‹œì‘
  const now = new Date();
  const start = new Date(now.getFullYear(), now.getMonth() + 1, 1);
  const baseYear  = start.getFullYear();
  const baseMonth = start.getMonth(); // 0-indexed

  const MN = ['1ì›”','2ì›”','3ì›”','4ì›”','5ì›”','6ì›”','7ì›”','8ì›”','9ì›”','10ì›”','11ì›”','12ì›”'];

  const html = planner.map((item, idx) => {
    const totalIdx  = baseMonth + (item.month_offset - 1);
    const monthIdx  = totalIdx % 12;
    const yearOff   = Math.floor(totalIdx / 12);
    const label     = `${baseYear + yearOff}ë…„ ${MN[monthIdx]}`;

    const coursesHtml = (item.courses || [])
      .map(c => `<div class="planner-course">${c}</div>`)
      .join('');

    return `
      <div class="planner-card">
        <div class="planner-month-badge">${label}</div>
        <div class="planner-courses">${coursesHtml}</div>
        ${item.milestone ? `<div class="planner-milestone">ğŸ¯ ${item.milestone}</div>` : ''}
      </div>`;
  }).join('');

  document.getElementById('monthlyPlannerGrid').innerHTML = html;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  PDF & RESET
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function generatePDF() {
  if (!analysisResult) return;
  window.print();
}

function resetAll() {
  selectedGoal  = '';
  selectedTrack = '';
  skillLevels   = {};
  analysisResult = null;
  document.getElementById('result').style.display = 'none';
  document.querySelectorAll('.goal-btn, .track-btn').forEach(b => b.classList.remove('selected'));
  showSection(1);
}

</script>
</body>
</html>
